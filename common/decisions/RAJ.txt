raj_debug = {
	haha_stinky = {
		cost = 10
	}
}
provincial_election_interference = {
	
	RAJ_provincial_election_countdown = {

		priority = 10
		
		icon = generic_political_discourse

		available = {
			hidden_trigger = { always = no }
		}

		days_mission_timeout = 320

		fire_only_once = yes

		activation = {
			has_country_flag = linlithgow_election
		}
		visible = {
			has_country_flag = linlithgow_election
		}

		is_good = yes

		timeout_effect = {
			custom_effect_tooltip = "The Election concludes"
			set_country_flag = lin_election_over
			clr_country_flag = linlithgow_election
		}
	}
	
	increase_upa_influence = {
		icon = generic_operation
		cost = 50
		available = {
			
			custom_trigger_tooltip = {
				tooltip = raj_selected_a_state
				check_variable = {
					ChosenState > 0
				}
			}
			
			custom_trigger_tooltip = {
				tooltip = notmaxsuspicion_trigger
				check_variable = {
					lin_suspicion < 86
				}
			}
		}
		complete_effect = {
			add_to_variable = {
				lin_suspicion = 15
			}
			custom_effect_tooltip = add_15_suspicion
			
			hidden_effect = {
				var:ChosenState = {
					add_to_variable = {
						upa_v = 4
					}
					raj_lin_calculate = yes
				}
			}
			custom_effect_tooltip = gen_provinces_scope
			custom_effect_tooltip = increase_upa_influence_tt
		}
	}
	significantly_increase_upa_influence = {
		icon = generic_operation
		cost = 100
		available = {
			custom_trigger_tooltip = {
				tooltip = raj_selected_a_state
				check_variable = {
					ChosenState > 0
				}
			}
			custom_trigger_tooltip = {
				tooltip = notmaxsuspicion_trigger
				check_variable = {
					lin_suspicion < 86
				}
			}
		}
		complete_effect = {
			add_to_variable = {
				lin_suspicion = 25
			}
			custom_effect_tooltip = add_25_suspicion
			
			hidden_effect = {
				var:ChosenState = {
					add_to_variable = {
						upa_v = 9
					}
				}
				raj_lin_calculate = yes
			}
			RAJ = {
				custom_effect_tooltip = gen_provinces_scope
				custom_effect_tooltip = significantly_increase_upa_influence_tt
			}
		}
		
	}
	sabotage_inc_rallies = {
		icon = generic_operation
		cost = 100
		available = {
			custom_trigger_tooltip = {
				tooltip = raj_selected_a_state
				check_variable = {
					ChosenState > 0
				}
			}
			custom_trigger_tooltip = {
				tooltip = notmaxsuspicion_trigger
				check_variable = {
					lin_suspicion < 86
				}
			}
		}
		complete_effect = {
			add_to_variable = {
				lin_suspicion = 25
			}
			custom_effect_tooltip = add_25_suspicion
			
			hidden_effect = {
				var:ChosenState = {
					add_to_variable = {
						inc_v = -5
					}
					raj_lin_calculate = yes
				}
			}
			RAJ = {
				custom_effect_tooltip = gen_provinces_scope
				custom_effect_tooltip = decrease_inc_influence_tt
			}
		}
		
	}
	sabotage_pak_rallies = {
		icon = generic_operation
		cost = 100
		available = {
			custom_trigger_tooltip = {
				tooltip = raj_selected_a_state
				check_variable = {
					ChosenState > 0
				}
			}
			custom_trigger_tooltip = {
				tooltip = notmaxsuspicion_trigger
				check_variable = {
					lin_suspicion < 86
				}
			}
		}
		complete_effect = {
			add_to_variable = {
				lin_suspicion = 25
			}
			custom_effect_tooltip = add_25_suspicion
			hidden_effect = {
				var:ChosenState = {
					add_to_variable = {
						pak_v = -5
					}
					raj_lin_calculate = yes
				}
			}
			RAJ = {
				custom_effect_tooltip = gen_provinces_scope
				custom_effect_tooltip = decrease_pak_influence_tt
			}
		}
		
	}
	lowering_suspicion = {
		icon = generic_operation
		cost = 100
		allowed = {
			tag = RAJ
		}
		visible = {
		
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = notminsuspicion_trigger
				check_variable = {
					lin_suspicion > 24
				}
			}
		}
		complete_effect = {
			add_to_variable = {
				lin_suspicion = -25
			}
			custom_effect_tooltip = add_-25_suspicion
		}
	}
}
political_actions = {
	cut_ties_with_the_british = {
		icon = generic_independence
		cost = 100
		allowed = {
			tag = RAJ
		}
		fire_only_once = yes
		visible = {
			date > 1940.1.1
			any_country = {
				has_war_with = ROOT
				is_major = yes
				capital_scope = {
					is_on_continent = europe
				}
			}
		}
		available = {
			ENG = {
				has_capitulated = yes
				is_faction_leader = yes
			}
			NOT = {
				any_allied_country = {	#Only real nation remaining
					has_capitulated = no
					num_divisions > 10
					num_of_factories > 45
					is_subject = no
				}
				any_allied_country = {	#Only major remaining
					has_capitulated = no
					is_major = yes
				}
			}
			surrender_progress < 0.05
		}
		complete_effect = {
			random_country = {
				limit = {
					has_war_with = ROOT
					is_major = yes
					capital_scope = {
						is_on_continent = europe
					}
				}
				RAJ = {
					set_variable = { enemy_leader = PREV }
				}
			}
			every_enemy_country = {
				limit = {
					is_in_faction_with = var:RAJ.enemy_leader
				}
				white_peace = RAJ
			}
			if = {
				limit = {
					is_subject_of = ENG
				}
				ENG = {
					set_autonomy = {
						target = RAJ
						autonomy_state = autonomy_free
					}
				}
			}
			leave_faction = yes
		}
	}	
	plead_against_seperation = {
		icon = generic_independence
		targets = { ENG }
		target_trigger = {
			FROM = {
				tag = ENG
			}
		}
		allowed = {
			tag = RAJ
		}
		fire_only_once = yes
		visible = {
			date < 1937.1.1
			is_subject_of = ENG
		}
		cost = 25
		days_remove = 7
		available = {
			
		}
		remove_effect = {
			ENG = { country_event = india.405 }
		}
	}
	invite_george_orwell_to_speak = {
		icon = eng_trade_unions_support
		visible = {
			has_completed_focus = RAJ_A_Society_of_All_Classes
		}
		allowed = {
			tag = RAJ
		}	
		fire_only_once = yes
		cost = 10
		days_remove = 7
		available = {
			custom_trigger_tooltip = {
				tooltip = "George Orwell returned from Spain"
				date > 1937.07.01
			}	
			has_country_flag = not_internationalists	#Orwell angery at stalin
		}
		remove_effect = {
			add_popularity = {
				ideology = communism
				popularity = 0.02
			}	
			set_country_flag = orwell_spoke
		}	
		
	}
	invite_george_orwell_into_the_government = {
		icon = eng_trade_unions_support
		visible = {
			has_completed_focus = RAJ_Independent_Labour_Party
			has_country_flag = orwell_spoke
		}
		fire_only_once = yes
		allowed = {
			tag = RAJ
		}	
		cost = 50
		available = {
			ENG = {
				NOT = { has_government = communism }
				hidden_trigger = {
					RAJ = { is_ai = no }#Stops AI stealing Orwell from the Brits
				}
			}
			has_country_flag = not_internationalists
		}
		days_remove = 14
		remove_effect = {
			set_country_flag = RAJ_george_orwell_enable
			custom_effect_tooltip = new_advisors_tt
			show_ideas_tooltip = RAJ_george_orwell
		}	
		
	}
}
operations = {
	RAJ_Join_the_Saur_Revolution = {
		icon = generic_form_nation
		allowed = {
			tag = RAJ
		}
		visible = {
			any_country = {
				original_tag = AFG
				has_civil_war = yes
				has_government = communism
			}
		}
		available = {
			has_stability > 0.05
		}
		cost = 100
		highlight_state_targets = {
			state = 415
		}
		ai_will_do = {
			factor = 100
		}
		days_remove = 90
		war_with_on_remove = AFG
		remove_effect = {
			add_stability = -0.05
			random_country = {
				limit = {
					original_tag = AFG
					has_civil_war = yes
					has_government = communism
				}
				RAJ = {
					add_to_war = { 
						targeted_alliance = PREV
						enemy = AFG
						hostility_reason = asked_to_join
					}
				}
			}
		}
	}
	RAJ_port_of_yanoan = {
		icon = generic_independence
		allowed = {
			tag = RAJ
		}
		visible = {
			OR = {
				has_completed_focus = RAJ_The_Remaining_Ports
				has_completed_focus = RAJ_Take_back_the_Ports
			}
		}
		available = {
			OR = {
				has_completed_focus = RAJ_The_Remaining_Ports
				has_completed_focus = RAJ_Take_back_the_Ports
			}
			NOT = { has_country_flag = raj_port_operation }
			any_country = {
				owns_state = 320
				controls_state = 320
				NOT = { 
					has_war_with = RAJ
				}
				
			}
			
			320 = {
				any_neighbor_state = {
					is_controlled_by = RAJ
				}
			}
		}
		cost = 50
		highlight_state_targets = {
			state = 320
		}
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 50
				FRA = {
					is_ai = yes #I've gotta
				}
			}
		}
		fire_only_once = yes
		days_remove = 90
		complete_effect = {
			set_country_flag = raj_port_operation
			random_country = {
				limit = {
					owns_state = 320
					controls_state = 320
					NOT = { 
						has_war_with = RAJ
					}
				}
				country_event = {
					id = india.403
					days = 5
				}
				RAJ = { set_variable = { frind = PREV } }
				
			}
		}
		remove_effect = {
			clr_country_flag = raj_port_operation
			hidden_effect = { 
				transfer_state = 320 
				320 = {
					set_state_name = "Karaikal"
				}
			}
			var:frind = {
				country_event = {
					id = india.404
					hours = 24
				}
				
			}
		}
	}	
	RAJ_port_of_goa = {
		icon = border_war
		allowed = {
			tag = RAJ
		}

		available = {
			OR = {
				has_completed_focus = RAJ_The_Remaining_Ports
				has_completed_focus = RAJ_Take_back_the_Ports
			}
			NOT = { has_country_flag = raj_port_operation }
			any_country = {
				NOT = {
					has_war_with = RAJ
					is_in_faction_with = RAJ
				}
				321 = {
					is_controlled_by = PREV
					any_neighbor_state = {
						is_controlled_by = RAJ
					}
				}
			}
		}

		visible = {
			OR = {
				has_completed_focus = RAJ_The_Remaining_Ports
				has_completed_focus = RAJ_Take_back_the_Ports
			}
		}

		highlight_state_targets = {
			state = 452
			state = 321
		}
		
		fire_only_once = yes
		ai_will_do = {
			factor = 100
		}
		cost = 50
		days_remove = 90
		war_with_on_remove = var:goacontroller
		complete_effect = {
			set_country_flag = raj_port_operation
			random_country = {
				limit = {
					NOT = {
						has_war_with = RAJ
						is_in_faction_with = RAJ
					}
					321 = {
						is_controlled_by = PREV
						any_neighbor_state = {
							is_controlled_by = RAJ
						}
					}
				}
				RAJ = {
					set_variable = {
						goacontroller = PREV
					}
				}
			}
			425 = {
				save_event_target_as = RAJ_GOA_attacker_state
				set_state_flag = border_incident_active
			}
			321 = {
				save_event_target_as = RAJ_GOA_defender_state
				set_state_flag = border_incident_active
			}
			var:goacontroller = {
				country_event = { id = india.400 days = 0 }
				activate_targeted_decision = { target = RAJ decision = GOA_border_incident_notification }
			}
			
		}
		remove_effect = {
			activate_targeted_decision = { target = var:goacontroller decision = RAJ_border_incident_forgotten }
			activate_targeted_decision = { target = var:goacontroller decision = RAJ_escalate_incident_to_border_conflict_GOA }
		}
	}
	GOA_border_incident_notification = {
		icon = border_war

		allowed = { always = no } #Activated from effect

		available = {
			#var:ROOT.defender_state_vs_@FROM = {
			#	has_ROOT_at_least_1_div_in_current_state_scope = yes
			#}
			hidden_trigger = { always = no }
		}

		highlight_state_targets = {
			state = 452
			state = 321
		}

		ai_will_do = {
			base = 0
			modifier = {
				
			}
		}

		days_mission_timeout = 90

		fire_only_once = yes

		is_good = no
		
		timeout_effect = {
			effect_tooltip = {
				start_border_war = {
					change_state_after_war = yes
					attacker = {
						state = 425
						num_provinces = 4
					}
					
					defender = {
						state = 321
						num_provinces = 4
					}
				}
			}
		}
	}
	RAJ_border_incident_forgotten = {

		icon = border_war

		allowed = { always = no } #Activated from effect

		available = {
			#var:ROOT.defender_state_vs_@FROM = {
			#	has_ROOT_at_least_1_div_in_current_state_scope = yes
			#}
			hidden_trigger = { always = no }
		}

		highlight_state_targets = {
			state = 452
			state = 321
		}

		ai_will_do = {
			base = 0
			modifier = {
				
			}
		}

		days_mission_timeout = 30

		fire_only_once = yes

		is_good = no
		
		timeout_effect = {
			remove_targeted_decision = { target = var:goacontroller decision = RAJ_escalate_incident_to_border_conflict_GOA }
			add_political_power = -100
			add_war_support = -0.1 #Shameful Display
			hidden_effect = {
				var:goacontroller = {
					452 = {
						clr_state_flag = border_incident_active
					}
					321 = {
						clr_state_flag = border_incident_active
					}
				}
			}
		}
	}
	RAJ_escalate_incident_to_border_conflict_GOA = {

		icon = border_war

		allowed = { always = no } #Activated from effect

		available = {
			425 = {
				OR = {
					is_fully_controlled_by = ROOT
					CONTROLLER = {
						is_subject_of = ROOT
					}
					CONTROLLER = {
						is_in_faction_with = ROOT
					}
				}
			}
			divisions_in_border_state = {
				state = 425
				border_state = 321
				size > 0
			}
		}

		highlight_state_targets = {
			state = 425
			state = 321
		}

		ai_will_do = {
			base = 10
			modifier = { 
				has_war = no
				factor = 10
			}
		}

		fire_only_once = yes #Reactivation handled in effect

		complete_effect = {
			remove_targeted_decision = { target = var:goacontroller decision = RAJ_border_incident_forgotten }
			set_country_flag = RAJ_GOA_border_war
			start_border_war = {
				change_state_after_war = no
				attacker = {
					state = 425
					num_provinces = 4
					on_win = india.401
					on_lose = india.402
				}
				
				defender = {
					state = 321
					num_provinces = 4
					on_win = india.401
					on_lose = india.402
				}
			}
		}
	}
}
south_asian_liberation = {
	integrate_sri_lanka = {
		cost = 150
		fire_only_once = yes
		visible = {
			SRL = { 
				exists = yes	
				has_government = communism
				is_ai = yes
				is_subject_of = RAJ
			}
		}
		modifier = {
			political_power_gain = -1
		}
		available = {
			SRL = {
				has_capitulated = no
				is_subject_of = RAJ
			}
			
			NOT = { has_country_flag = raj_influencing_country }
		}
		cancel_if_invalid = yes
		complete_effect = {
			set_country_flag = raj_influencing_country
		}	
		remove_effect = {
			clr_country_flag = raj_influencing_country
			RAJ = {
				annex_country = {
					target = SRL
					transfer_troops = yes
				}
			}
			422 = {
				set_compliance = 80
				set_resistance = 0
			}
		}
		days_remove = 150
		
	}
	integrate_bhutan = {
		cost = 150
		fire_only_once = yes
		visible = {
			BHU = { 
				exists = yes	
				has_government = communism
				is_ai = yes
				is_subject_of = RAJ
			}
		}
		modifier = {
			political_power_gain = -1
		}
		available = {
			BHU = {
				has_capitulated = no
				is_subject_of = RAJ
			}
			
			NOT = { has_country_flag = raj_influencing_country }
		}
		cancel_if_invalid = yes
		complete_effect = {
			set_country_flag = raj_influencing_country
		}	
		remove_effect = {
			clr_country_flag = raj_influencing_country
			RAJ = {
				annex_country = {
					target = BHU
					transfer_troops = yes
				}
			}
			324 = {
				set_compliance = 80
				set_resistance = 0
			}
		}
		days_remove = 150
		
	}
	integrate_nepal = {
		cost = 150
		fire_only_once = yes
		visible = {
			NEP = { 
				exists = yes	
				has_government = communism
				is_ai = yes
				is_subject_of = RAJ
			}
		}
		modifier = {
			political_power_gain = -1
		}
		available = {
			NEP = {
				has_capitulated = no
				is_subject_of = RAJ
			}
			
			NOT = { has_country_flag = raj_influencing_country }
		}
		cancel_if_invalid = yes
		complete_effect = {
			set_country_flag = raj_influencing_country
		}	
		remove_effect = {
			clr_country_flag = raj_influencing_country
			RAJ = {
				annex_country = {
					target = NEP
					transfer_troops = yes
				}
			}
			323 = {
				set_compliance = 80
				set_resistance = 0
			}
		}
		days_remove = 150
		
	}
	increase_influence_in_sri_lanka = {
		cost = 150
		fire_only_once = yes
		visible = {
			SRL = { 
				exists = yes	
				has_government = communism
				is_ai = yes
			}
		}
		modifier = {
			political_power_gain = -1
		}
		available = {
			SRL = {
				has_war = no
				NOT = { is_subject = yes }
			}
			
			NOT = { has_country_flag = raj_influencing_country }
		}
		cancel_if_invalid = yes
		complete_effect = {
			set_country_flag = raj_influencing_country
		}	
		remove_effect = {
			clr_country_flag = raj_influencing_country
			SRL = {
				if = {
					limit = {
						is_in_faction = yes
						NOT = { is_in_faction_with = RAJ }
					}
					leave_faction = yes
				}
			}
			RAJ = {
				puppet = SRL
			}
		}
		days_remove = 150
		
	}
	increase_influence_in_bhutan = {
		cost = 150
		fire_only_once = yes
		visible = {
			BHU = { 
				exists = yes	
				has_government = communism
				is_ai = yes
			}
		}
		modifier = {
			political_power_gain = -1
		}
		available = {
			BHU = {
				has_war = no
				NOT = { is_subject = yes }
			}
			
			NOT = { has_country_flag = raj_influencing_country }
		}
		cancel_if_invalid = yes
		complete_effect = {
			set_country_flag = raj_influencing_country
		}	
		remove_effect = {
			clr_country_flag = raj_influencing_country
			BHU = {
				if = {
					limit = {
						is_in_faction = yes
						NOT = { is_in_faction_with = RAJ }
					}
					leave_faction = yes
				}
			}
			RAJ = {
				puppet = BHU
			}
		}
		days_remove = 150
		
	}
	increase_influence_in_nepal = {
		cost = 0
		fire_only_once = yes
		visible = {
			NEP = { 
				exists = yes	
				has_government = communism
				is_ai = yes
			}
		}
		modifier = {
			political_power_gain = -1
		}
		available = {
			NEP = {
				has_war = no
				NOT = { is_subject = yes }
			}
			
			NOT = { has_country_flag = raj_influencing_country }
		}
		cancel_if_invalid = yes
		complete_effect = {
			set_country_flag = raj_influencing_country
		}	
		remove_effect = {
			clr_country_flag = raj_influencing_country
			NEP = {
				if = {
					limit = {
						is_in_faction = yes
						NOT = { is_in_faction_with = RAJ }
					}
					leave_faction = yes
				}
			}
			RAJ = {
				puppet = NEP
			}
		}
		days_remove = 150
		
	}
	arms_shipments_to_sri_lanka = {
		cost = 0
		fire_only_once = no
		visible = {
			SRL = { exists = no	}
			NOT = { has_global_flag = sri_lankan_rebellion }
		}
		available = {
			has_equipment = {
				infantry_equipment > 999
			}	
		}
		days_remove = 20
		remove_effect = {
			add_to_variable = {
				SRL_arms = 1000
			}
			custom_effect_tooltip = ilp_sri_arms_send
		}
		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -1000
				producer = RAJ
			}
		}
	}
	political_aid_for_sri_lanka = {
		cost = 25
		fire_only_once = no
		visible = {
			SRL = {	exists = no	}
			NOT = { has_global_flag = sri_lankan_rebellion }
		}
		available = {
			SRL = {
				custom_trigger_tooltip = {
					tooltip = ilp_sri_pol_trigger
					RAJ = {
						check_variable = {
							SRL_pol < 100
						}
					}
				}
			}
		}
		days_remove = 20
		remove_effect = {
			SRL = {
				custom_effect_tooltip = ilp_sri_pol_25
			}
			add_to_variable = {
				SRL_pol = 25
			}
		}
	}
	arms_shipments_to_bhutan = {
		cost = 0
		fire_only_once = no
		visible = {
			BHU = { NOT = { has_government = communism } }
			NOT = { has_global_flag = bhutanese_rebellion }
		}
		available = {
			has_equipment = {
				infantry_equipment > 999
			}	
		}
		days_remove = 20
		remove_effect = {
			add_to_variable = {
				BHU_arms = 1000
			}
			custom_effect_tooltip = ilp_bhu_arms_send
		}
		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -1000
				producer = BHU
			}
		}
	}
	political_aid_for_bhutan = {
		cost = 25
		fire_only_once = no
		visible = {
			BHU = { NOT = { has_government = communism } }
			NOT = { has_global_flag = bhutanese_rebellion }
		}
		available = {
			BHU = {
				custom_trigger_tooltip = {
					tooltip = ilp_bhu_pol_trigger
					RAJ = {
						check_variable = {
							BHU_pol < 100
						}
					}
				}
			}
		}
		days_remove = 20
		remove_effect = {
			BHU = {
				custom_effect_tooltip = ilp_bhu_pol_25
			}
			add_to_variable = {
				BHU_pol = 25
			}
		}
	}
	arms_shipments_to_nepal = {
		cost = 0
		fire_only_once = no
		visible = {
			NEP = { NOT = { has_government = communism } }
			NOT = { has_global_flag = nepalese_rebellion }
		}
		available = {
			has_equipment = {
				infantry_equipment > 999
			}	
		}
		days_remove = 20
		remove_effect = {
			add_to_variable = {
				NEP_arms = 1000
			}
			custom_effect_tooltip = ilp_nep_arms_send
		}
		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -1000
				producer = NEP
			}
		}
	}
	political_aid_for_nepal = {
		cost = 25
		fire_only_once = no
		visible = {
			NEP = { NOT = { has_government = communism } }
			NOT = { has_global_flag = nepalese_rebellion }
		}
		available = {
			NEP = {
				custom_trigger_tooltip = {
					tooltip = ilp_nep_pol_trigger
					RAJ = {
						check_variable = {
							NEP_pol < 100
						}
					}
				}
			}
		}
		days_remove = 20
		remove_effect = {
			NEP = {
				custom_effect_tooltip = ilp_nep_pol_25
			}
			add_to_variable = {
				NEP_pol = 25
			}
		}
	}
}

#set_country_flag = not_internationalists
#set_country_flag = not_national_communists
#set_country_flag = not_trade_unionist
#set_country_flag = not_women_liberationists

ilp_concessions = {
	internationalist_demands = {
		icon = eng_trade_unions_support
		available = {
			has_country_flag = not_national_communists
		}
		ai_will_do = {
			factor = 150
		}
		fire_only_once = yes
		cost = 50
		complete_effect = {
			custom_effect_tooltip = "We will promise to join the Comintern after socialism has been established."
			clr_country_flag = not_internationalists
			if = {
				limit = {
					has_country_flag = election_enabled
				}
				random_owned_state = {
					limit = {
						NOT = {
							has_state_flag = princely_state
							state = 423
							state = 431
							state = 445
						}
						is_owned_by = RAJ
						is_core_of = RAJ
					}
					add_to_variable = {
						ifb = 2
					}
					custom_effect_tooltip = raj_ifb_2
				}
			}	
			
			set_party_name = {
				name = "ILP-S"
				long_name = "Independent Labour Party - Stalinist Wing"
				ideology = communism
			}
		}
	}
	national_communists_demands = {
		icon = eng_trade_unions_support
		fire_only_once = yes
		available = {
			has_country_flag = not_internationalists
		}
		ai_will_do = {
			factor = 200
		}
		cost = 50
		complete_effect = {
			custom_effect_tooltip = "We will promise to stay independent from Soviet influence."
			clr_country_flag = not_national_communists
			if = {
				limit = {
					has_country_flag = election_enabled
				}
				random_owned_state = {
					limit = {
						NOT = {
							has_state_flag = princely_state
							state = 423
							state = 431
							state = 445
						}
						is_owned_by = RAJ
						is_core_of = RAJ
					}
					add_to_variable = {
						ifb = 2
					}
					custom_effect_tooltip = raj_ifb_2
				}
			}	
			set_party_name = {
				name = "ILP-L"
				long_name = "Independent Labour Party - Libertarian Wing"
				ideology = communism
			}
		}
	}
	trade_unionists_demands = {
		icon = eng_trade_unions_support
		fire_only_once = yes
		available = {
			
		}
		cost = 50
		ai_will_do = {
			factor = 50
		}
		complete_effect = {
			custom_effect_tooltip = "We will promise to give considerable power to the trade unions after the Election."
			clr_country_flag = not_trade_unionist
			if = {
				limit = {
					has_country_flag = election_enabled
				}
				random_owned_state = {
					limit = {
						NOT = {
							has_state_flag = princely_state
							state = 423
							state = 431
							state = 445
						}
						is_owned_by = RAJ
						is_core_of = RAJ
					}
					add_to_variable = {
						ifb = 2
					}
					custom_effect_tooltip = raj_ifb_2
				}
			}	
		}
	}
	women_liberationists_demands = {
		icon = eng_trade_unions_support
		fire_only_once = yes
		available = {
			
		}
		ai_will_do = {
			factor = 75
		}
		cost = 50
		complete_effect = {
			custom_effect_tooltip = "We will promise to give total equality to women after the Election."
			clr_country_flag = not_women_liberationists
			if = {
				limit = {
					has_country_flag = election_enabled
				}
				random_owned_state = {
					limit = {
						NOT = {
							has_state_flag = princely_state
							state = 423
							state = 431
							state = 445
						}
						is_owned_by = RAJ
						is_core_of = RAJ
					}
					add_to_variable = {
						ifb = 2
					}
					custom_effect_tooltip = raj_ifb_2
				}
			}	
		}
	}
}
princely_state_independence = {
	princely_state_policing_action = {

		icon = border_war
		fire_only_once = yes
		fixed_random_seed = no
		available = {
			OR = {
				has_completed_focus = RAJ_The_Ones_Who_Got_Away
				has_completed_focus = RAJ_No_Compromises
				has_completed_focus = RAJ_Concessions_to_Princes
			}
			NOT = { 
				custom_trigger_tooltip = {
					tooltip = operation_or_cooldown
					has_country_flag = {
						flag = operation_or_cooldown
						days < 44#A month after
					}
				}
			}
			has_manpower > 10000 #worst case scenario
			if = {
				limit = {
					is_ai = no
				}
				has_equipment = {
					infantry_equipment > 5000
				}
			}
			has_stability > 0.03
		}
		target_array = controlled_states
		state_target = yes
		visible = {
			FROM = {
				has_state_flag = princely_state_independence
			}
		}
		ai_will_do = {
			factor = 250
		}
		target_trigger = {
			FROM = {
				is_owned_by = RAJ
				is_core_of = RAJ
			}
		}
		days_remove = 14
		
		fire_only_once = yes

		cost = 50

		modifier = {
			
		}

		complete_effect = {
			set_country_flag = operation_or_cooldown
			FROM = {
				set_demilitarized_zone = no
				RAJ = {
					set_variable = {
						current_prince_state = PREV
					}
				}
			}
		}

		remove_effect = {
			FROM = {
				random_list = {
							
					15 = {	#Extremely Successful 
						RAJ = {
							country_event = india.411
							effect_tooltip = {
								add_manpower = -30
								add_equipment_to_stockpile = {
									type = infantry_equipment
									amount = -15
									producer = RAJ
								}
								army_expierience = 2
								add_stability = 0.01
							}
							custom_effect_tooltip = backslashn
						}
					}
					35 = {	#Successful 
						RAJ = {
							country_event = india.412
							effect_tooltip = {
								add_manpower = -500
								add_equipment_to_stockpile = {
									type = infantry_equipment
									amount = -250
									producer = RAJ
								}
								army_expierience = 5
							}
							custom_effect_tooltip = backslashn
						}
					}
					35 = {	#Terrible 
						RAJ = {
							country_event = india.413
							effect_tooltip = {
								add_manpower = -2500
								add_equipment_to_stockpile = {
									type = infantry_equipment
									amount = -1250
									producer = RAJ
								}
								army_expierience = 10
								add_stability = -0.01
							}
							custom_effect_tooltip = backslashn
						}
					}
					15 = {	#Catastrophic 
						RAJ = {
							country_event = india.414
							effect_tooltip = {
								add_manpower = -10000
								add_equipment_to_stockpile = {
									type = infantry_equipment
									amount = -5000
									producer = RAJ
								}
								army_expierience = 20
								add_stability = -0.03
							}
							custom_effect_tooltip = backslashn
						}
					}
				}
			}
		}
	}
	demand_oaths_of_loyalty = {
		icon = generic_nationalism
		cost = 50
		available = {
			NOT = {
				has_country_flag = concession_running
			}
		}
		ai_will_do = {
			factor = 0
			modifier = {
				add = 500
				any_owned_state = {
					check_variable = {
						voting_chance > 84
					}
				}
			}
		}
		visible = {
			NOT = { has_country_flag = idk_go_away }
			NOT = { has_completed_focus = RAJ_No_Compromises }
		}
		fire_only_once = no
		days_remove = 7
		complete_effect = {
			set_country_flag = concession_running
		}
		remove_effect = {
			country_event = {
				id = india.501
				hours = 7
			}
			set_country_flag = idk_go_away
		}
	}
	concession_industrial = {
		icon = generic_industry
		fire_only_once = no
		cost = 0
		available = {
			NOT = {
				has_country_flag = concession_running
			}
		}
		visible = {
			NOT = { has_country_flag = concession_disable }
		}
		ai_will_do = {
			factor = 200
		}
		modifier = {
			consumer_goods_factor = 0.05
		}
		days_remove = 14
		days_re_enable = 14
		complete_effect = {
			set_country_flag = concession_running
		}
		remove_effect = {
			clr_country_flag = concession_running
			random_owned_state = {
				limit = {
					prince_state_enable = yes
					check_variable = {
						voting_chance < 86
					}
				}
				add_to_variable = {
					voting_chance = 15
				}
				custom_effect_tooltip = votingadd15
				set_state_flag = recently_modified
			}
			random_owned_state = {
				limit = {
					prince_state_enable = yes
					check_variable = {
						voting_chance < 86
					}
					NOT = {
						has_state_flag = recently_modified
					}
				}
				add_to_variable = {
					voting_chance = 15
				}
				custom_effect_tooltip = votingadd15
			}
			hidden_effect = {
				every_owned_state = {
					clr_state_flag = recently_modified
				}
			}
		}
	}
	concession_political = {
		icon = eng_trade_unions_support
		fire_only_once = no
		cost = 0
		visible = {
			NOT = { has_country_flag = concession_disable }
		}
		ai_will_do = {
			factor = 200
		}
		available = {
			OR = {
				political_power_daily > 1
				has_political_power > 14
			}
			NOT = {
				has_country_flag = concession_running
			}
		}
		modifier = {
			political_power_gain = -1
		}
		days_remove = 14
		days_re_enable = 14
		complete_effect = {
			set_country_flag = concession_running
		}
		remove_effect = {
			clr_country_flag = concession_running
			random_owned_state = {
				limit = {
					prince_state_enable = yes
					check_variable = {
						voting_chance < 86
					}
				}
				add_to_variable = {
					voting_chance = 15
				}
				custom_effect_tooltip = votingadd15
				set_state_flag = recently_modified
			}
			random_owned_state = {
				limit = {
					prince_state_enable = yes
					check_variable = {
						voting_chance < 86
					}
					NOT = {
						has_state_flag = recently_modified
					}
				}
				add_to_variable = {
					voting_chance = 15
				}
				custom_effect_tooltip = votingadd15
			}
			hidden_effect = {
				every_owned_state = {
					clr_state_flag = recently_modified
				}
			}
		}
	}
	concession_military = {
		icon = generic_operation
		fire_only_once = no
		cost = 0
		available = {
			NOT = {
				has_country_flag = concession_running
			}
		}
		ai_will_do = {
			factor = 200
		}
		visible = {
			NOT = { has_country_flag = concession_disable }
		}
		modifier = {
			industrial_capacity_factory = -0.15
		}
		days_remove = 14
		days_re_enable = 14
		complete_effect = {
			set_country_flag = concession_running
		}
		remove_effect = {
			clr_country_flag = concession_running
			random_owned_state = {
				limit = {
					prince_state_enable = yes
					check_variable = {
						voting_chance < 86
					}
				}
				add_to_variable = {
					voting_chance = 15
				}
				custom_effect_tooltip = votingadd15
				set_state_flag = recently_modified
			}
			random_owned_state = {
				limit = {
					prince_state_enable = yes
					check_variable = {
						voting_chance < 86
					}
					NOT = {
						has_state_flag = recently_modified
					}
				}
				add_to_variable = {
					voting_chance = 15
				}
				custom_effect_tooltip = votingadd15
			}
			hidden_effect = {
				every_owned_state = {
					clr_state_flag = recently_modified
				}
			}
		}
	}
}
raj_military_research = {
	army_research_infantry = {

		icon = generic_research

		allowed = {
			
		}
		fire_only_once = no
		available = {	
			NOT = { has_country_flag = army_research_running }
			has_political_power > 0
		}
		custom_cost_trigger = { 
			has_army_experience > 25
		}
		visible = {
			check_variable = {
				infantry_count < 3
			}
		}
		custom_cost_text = RAJ_experience_cost_tt
		
		days_remove = 70
		
		modifier = {
			political_power_gain = -1
		}
		
		remove_effect = {
			add_tech_bonus = {
				bonus = 1
				uses = 1
				category = infantry_weapons
			}
			clr_country_flag = army_research_running
			add_to_variable = {
				infantry_count = 1
			}
		}

		complete_effect = {
			hidden_effect = {
				army_expierience = -25
			}
			set_country_flag = army_research_running
		}			
	}
	army_research_artillery = {

		icon = generic_research
		visible = {
			check_variable = {
				artillery_count < 3
			}
		}
		allowed = {
			
		}
		fire_only_once = no
		available = {	
			NOT = { has_country_flag = army_research_running }
			has_political_power > 0
		}
		custom_cost_trigger = { 
			has_army_experience > 25
		}
		
		custom_cost_text = RAJ_experience_cost_tt
		
		days_remove = 70
		
		modifier = {
			political_power_gain = -1
		}
		
		remove_effect = {
			add_tech_bonus = {
				bonus = 1
				uses = 1
				category = artillery
			}
			clr_country_flag = army_research_running
			add_to_variable = {
				artillery_count = 1
			}
		}

		complete_effect = {
			hidden_effect = {
				army_expierience = -25
			}
			set_country_flag = army_research_running
		}			
	}
	army_research_armour = {

		icon = generic_research

		allowed = {
			
		}
		fire_only_once = no
		available = {	
			NOT = { has_country_flag = army_research_running }
			has_political_power > 0
		}
		custom_cost_trigger = { 
			has_army_experience > 25
		}
		visible = {
			armour_count < 3
		}
		custom_cost_text = RAJ_experience_cost_tt
		
		days_remove = 70
		
		modifier = {
			political_power_gain = -1
		}
		
		remove_effect = {
			add_tech_bonus = {
				bonus = 1
				uses = 1
				category = armor
			}
			clr_country_flag = army_research_running
			add_to_variable = {
				armour_count = 1
			}
		}

		complete_effect = {
			hidden_effect = {
				army_expierience = -25
			}
			set_country_flag = army_research_running
		}			
	}
	army_research_airplane = {

		icon = generic_research

		allowed = {
			
		}
		fire_only_once = no
		available = {	
			NOT = { has_country_flag = army_research_running }
			has_political_power > 0
		}
		custom_cost_trigger = { 
			has_air_experience > 25
		}
		visible = {
			check_variable = {
				air_count < 3
			}
		}
		custom_cost_text = RAJ_air_experience_cost_tt
		
		days_remove = 70
		
		modifier = {
			political_power_gain = -1
		}
		
		remove_effect = {
			add_tech_bonus = {
				bonus = 1
				uses = 1
				category = air_equipment
			}
			clr_country_flag = army_research_running
			add_to_variable = {
				air_count = 1
			}
		}

		complete_effect = {
			hidden_effect = {
				air_expierience = -25
			}
			set_country_flag = army_research_running
		}			
	}
	army_research_navy = {

		icon = generic_research
		visible = {
			check_variable = {
				navy_count < 3
			}	
		}
		allowed = {
			
		}
		fire_only_once = no
		available = {	
			NOT = { has_country_flag = army_research_running }
			has_political_power > 0
		}
		custom_cost_trigger = { 
			has_navy_experience > 25
		}
		
		custom_cost_text = RAJ_navy_experience_cost_tt
		
		days_remove = 70
		
		modifier = {
			political_power_gain = -1
		}
		
		remove_effect = {
			add_tech_bonus = {
				bonus = 1
				uses = 1
				category = naval_equipment
			}
			clr_country_flag = army_research_running
			add_to_variable = {
				navy_count = 1
			}
		}

		complete_effect = {
			hidden_effect = {
				navy_expierience = -25
			}
			set_country_flag = army_research_running
		}			
	}
}
post_election_struggle = {
	appeal_for_international_support = {
		icon = civil_support
		fire_only_once = yes
		cost = 100
		ai_will_do = {
			factor = 20
		}
		targets = {
			var:ENG.RAJBACKER
		}
		available = {
			any_country = {
				NOT = { tag = FRA }
				OR = {
					AND = {
						has_opinion = {
							target = RAJ
							value > 10
						}
						is_in_faction_with = ENG
						NOT = { is_subject_of = ENG }
					}
					AND = {
						has_opinion = {
							target = RAJ
							value > 10
						}
						is_major = yes
					}
				}
			}
		}
		complete_effect = {
			random_country = {
				limit = {
					NOT = { tag = FRA }#Colonialists Stick together
					OR = {
						AND = {
							has_opinion = {
								target = RAJ
								value > 10
							}
							is_in_faction_with = ENG
							NOT = { is_subject_of = ENG }
						}
						AND = {
							has_opinion = {
								target = RAJ
								value > 10
							}
							is_major = yes
						}
					}
				}
				ENG = {
					set_variable = {
						RAJBACKER = PREV
					}
					country_event = {
						id = india.6
						hours = 4
					}
				}
			}
		}
	}
	
	increase_both_influence = {
		icon = generic
		fire_only_once = yes
		cost = 50
		ai_will_do = {
			factor = 50
		}
		complete_effect = {
			add_to_variable = {
				ind_influence_daily = 0.15
			}
			add_to_variable = {
				pak_influence_daily = 0.15
			}
			custom_effect_tooltip = ind_pak_15
		}
	}
	
	hinder_pak_influence = {
		icon = generic
		ai_will_do = {
			factor = 100
		}
		fire_only_once = yes
		cost = 125
		complete_effect = {
			add_to_variable = {
				pak_influence = -10
			}
			custom_effect_tooltip = pak10flat
		}	
	}
	
	concede_to_capitalists = {
		icon = generic_industry
		fire_only_once = yes
		cost = 25
		ai_will_do = {
			factor = 70
		}
		available = {
			NOT = {
				has_country_flag = ILP_victory
			}
		}
		complete_effect = {
			add_to_variable = {
				ind_influence_daily = 0.05
			}
			custom_effect_tooltip = ind05
			random_owned_state = {
				limit = {
					industrial_complex > 0
				}
				remove_building = {
					type = industrial_complex
					level = 1
				}
			}
		}	
	}
	
	utilize_more_extrem_factions = {
		icon = generic
		fire_only_once = yes
		cost = 25
		ai_will_do = {
			factor = 35
			modifier = {
				factor = 3
				has_stability > 0.5
			}
		}
		available = {
			NOT = { 
				has_country_flag = UP_victory
			}
			NOT = {
				has_completed_focus = RAJ_Expell_the_Socialists
			}
		}
		complete_effect = {
			add_to_variable = {
				ind_influence_daily = 0.07
			}
			custom_effect_tooltip = ind07
			add_to_variable = {
				pak_influence_daily = 0.02
			}
			custom_effect_tooltip = pak2
			add_stability = -0.05
		}	
	}
	
	organize_large_scale_strikes = {
		icon = generic
		fire_only_once = yes
		cost = 25
		ai_will_do = {
			factor = 150
		}
		available = {
			has_country_flag = ILP_victory
		}
		complete_effect = {
			add_to_variable = {
				ind_influence_daily = 0.05
			}
			custom_effect_tooltip = ind05
			add_timed_idea = {
				idea = strikes_1
				days = 60
			}
		}	
	}
	
	grant_concessions_to_the_british = {
		icon = generic
		fire_only_once = yes
		cost = 25
		available = {
			has_country_flag = UP_victory
		}
		ai_will_do = {
			factor = 175
		}
		complete_effect = {
			set_country_flag = grant_1
			add_to_variable = {
				ind_influence_daily = 0.1
			}
			custom_effect_tooltip = ind10
			give_resource_rights = { receiver = ENG state = 431 }
		}	
	}
	
	grant_concessions_to_the_british_2 = {
		icon = generic
		fire_only_once = yes
		cost = 25
		available = {
			has_country_flag = UP_victory
		}
		visible = {
			has_country_flag = grant_1
		}
		ai_will_do = {
			factor = 75
		}
		complete_effect = {
			add_to_variable = {
				ind_influence = 5
			}
			custom_effect_tooltip = ind05flat
			give_resource_rights = { receiver = ENG state = 426 }
		}	
	}
	
	declare_independence = {
		icon = generic_independence
		available = {
			custom_trigger_tooltip = {
				tooltip = declare_independence_100_influence
				check_variable = { 
					ind_influence > 99.99
				}
			}
		}
		cost = 0
		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0.5
				check_variable = {
					ind_influence < 120
				}
			}
		}
		complete_effect = {
			set_country_flag = independence_granted
			set_variable = {
				indcalc = ind_influence
			}
			divide_variable = {
				indcalc = pak_influence
			}
			if = {
				limit = {
					OR = {
						has_country_flag = AIML_UP_COALITION
						check_variable = {
							indcalc < 2
						}
					}
				}
				every_owned_state = {
					limit = {
						is_core_of = PAK
					}
					PAK = { 
						transfer_state = PREV 
					}
					if = {
						limit = {
							has_state_flag = princely_state_independence
						}
						princely_state_annexation = yes
					}
				}
				hidden_effect = { 
					country_event = {
						id = india.416
						hours = 24
					}
				}
				PAK = { 
					inherit_technology = RAJ
					load_oob = PAK_Scripted
				}
				ENG = {
					give_guarantee = PAK
					give_guarantee = RAJ
				}
				else = {
					hidden_effect = { 
						country_event = {
							id = india.415
							hours = 24
						}
					}
				}
			}
			if = {
				limit = {
					has_country_flag = burma_separate
				}
				every_owned_state = {
					limit = {
						is_core_of = BRM
					}
					BRM = { 
						transfer_state = PREV 
					}
				}
				BRM = {
					inherit_technology = RAJ
				}
				ENG = {
					give_guarantee = BRM
				}
			}
			if = {
				limit = {
					owns_state = 659
				}
				ENG = {
					transfer_state = 659
				}
			}
			if = {
				limit = {
					NOT = { has_country_flag = UP_victory }
				}
				ENG = {
					set_autonomy = {
						target = RAJ
						autonomy_state = autonomy_free
					}
				}
				leave_faction = yes
				else = {
					swap_ideas = {
						add_idea = RAJ_Governor_Genral_Lord_Linlithgow
						remove_idea = RAJ_Unionist_Party_Reigning
					}
					
					ENG = {
						if = {
							limit = {
								has_dlc = "Together for Victory"
							}
							set_autonomy = {
								target = RAJ
								autonomy_state = autonomy_dominion
							}
							else = {
								set_autonomy = {
									target = RAJ
									autonomy_state = autonomy_free
								}
								RAJ = { 
									drop_cosmetic_tag = yes 
									add_ai_strategy = {
										type = alliance
										id = ENG
										value = 200
									}
								}
								RAJ = { set_cosmetic_tag = RAJ_Dominion }
								add_to_faction = RAJ
								add_ai_strategy = {
									type = alliance
									id = RAJ
									value = 200
								}
							}
						}
						if = {
							limit = {
								country_exists = PAK
							}
							PAK = {
								set_politics = {
									ruling_party = democratic
									elections_allowed = yes
								}
								add_popularity = {
									ideology = democratic
									popularity = 52
								}
								create_country_leader = {
									name = "Muhammad Ali Jinnah"
									
									picture = "gfx/leaders/PAK/PAK_Muhammad_Ali_Jinnah.dds"
									expire = "1960.1.1"
									ideology = conservatism
									traits = {
								
									}
								}
								retire_ideology_leader = neutrality	#To prevent Jinnah-Jinnah Civil Wars
								hidden_effect = {
									complete_national_focus = PAK_Birth_of_a_Nation
									complete_national_focus = PAK_General_Election
									complete_national_focus = PAK_Multipartism
								}
							}
							if = {
								limit = {
									has_dlc = "Together for Victory"
								}
								set_autonomy = {
									target = PAK
									autonomy_state = autonomy_dominion
								}
								PAK = { 
									set_cosmetic_tag = PAK_Dominion
								}
								else = {
									set_autonomy = {
										target = PAK
										autonomy_state = autonomy_free
									}
									add_to_faction = PAK
									add_ai_strategy = {
										type = alliance
										id = PAK
										value = 200
									}
									PAK = { 
										set_cosmetic_tag = PAK_Dominion
										add_ai_strategy = {
											type = alliance
											id = ENG
											value = 200
										}
									}
									give_guarantee = PAK
								}
							}
						}
						if = {
							limit = {
								country_exists = BRM
							}
							if = {
								limit = {
									has_dlc = "Together for Victory"
								}
								set_autonomy = {
									target = BRM
									autonomy_state = autonomy_dominion
								}
								BRM = { 
									set_cosmetic_tag = BRM_Dominion
								}
								else = {
									set_autonomy = {
										target = BRM
										autonomy_state = autonomy_free
									}
									add_to_faction = BRM
									add_ai_strategy = {
										type = alliance
										id = BRM
										value = 200
									}
									BRM = { 
										set_cosmetic_tag = BRM_Dominion
										add_ai_strategy = {
											type = alliance
											id = ENG
											value = 200
										}
									}
									give_guarantee = BRM
								}
							}
						}
					}
					
				}
			}
			retire_country_leader = yes
			if = {
				limit = {
					has_country_flag = ILP_victory
				}
				remove_ideas = RAJ_Independent_Labour_Party_Reigning
				set_politics = {
					ruling_party = communism
					elections_allowed = yes
				}
				drop_cosmetic_tag = yes
				create_country_leader = {
					name = "Bhimrao Ramji Ambedkar"
					desc = "POLITICS_AMBEDKAR_DESC"
					picture = "r56_portrait_RAJ_Jawaharlal_Nehru.dds"
					expire = "1965.1.1"
					ideology = marxism
					traits = {
						
					}
				}
			}
			if = {
				limit = {
					has_country_flag = INC_victory
				}
				remove_ideas = RAJ_Indian_National_Congress_Reigning
				set_politics = {
					ruling_party = democratic
					elections_allowed = yes
				}
				
				drop_cosmetic_tag = yes
				create_country_leader = {
					name = "Jawaharlal Nehru"
					desc = "POLITICS_NEHRU_DESC"
					picture = "r56_portrait_RAJ_Jawaharlal_Nehru.dds"
					expire = "1965.1.1"
					ideology = socialism
					traits = {
						
					}
				}
			}
			if = {
				limit = {
					has_country_flag = UP_victory
				}
				set_politics = {
					ruling_party = neutrality
					elections_allowed = yes
				}
				create_country_leader = {
					name = "Sir Sikander Hayat Khan"
					desc = "POLITICS_KHAN_DESC"
					picture = "r56_portrait_RAJ_Sir_Sikander_Hayat_Khan.dds"
					expire = "1965.1.1"
					ideology = oligarchism
					traits = {
						
					}
				}
			}
		}
	}
}