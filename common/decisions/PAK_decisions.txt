communist_revolution = {
	choose_communism = {
		icon = generic_nationalism
		complete_effect = {
			set_country_flag = communism_choosen
		}
	}
	communist_power_base = {

		icon = generic_nationalism
		available = {
			NOT = { has_country_flag = communist_influence_running }
		}
		state_target = yes
		visible = {
			FROM = {
				NOT = { 
					has_state_flag = pak_communist_influence
				}
				is_owned_by = PAK
			}
		}
		target_trigger = {
			FROM = {
				AND = {
					is_owned_by = PAK
					is_core_of = PAK
				}
			}
		}
		days_remove = 50

		fire_only_once = yes

		cost = 25

		modifier = {
			
		}
		complete_effect = {
			set_country_flag = communist_influence_running
		}
		remove_effect = {
			clr_country_flag = communist_influence_running
			FROM = {
				set_state_flag = pak_communist_influence
			}
			ROOT = {
				add_popularity = {
					ideology = communism
					popularity = 0.05
				}
			}
		}
	}
	
	PAK_Storm_Karachi = {

		allowed = {
		
		}	

		icon = generic_nationalism

		available = {
			any_owned_state = {
				has_state_flag = pak_communist_influence
			}
		}

		cost = 100
		days_remove = 40
		fire_only_once = yes

		visible = {
			tag = PAK
		}	

		highlight_states = {
			every_owned_state = {
				has_state_flag = pak_communist_influence
			}
		}
		
		complete_effect = {
			add_stability = -0.40
			every_owned_state = {
				limit = {
					has_state_flag = pak_communist_influence
				}
				ROOT = {
					add_stability = 0.05
				}
			}
			every_owned_state = {
				limit = {
					NOT = { 
						has_state_flag = pak_communist_influence
					}	
				}
				remove_core_of = PAK
			}
			set_politics = {
				ruling_party = communism
				last_election = "1936.1.1"
				election_frequency = 48
				elections_allowed = no
			}
		}

		ai_will_do = {
			factor = 3
		}
	}
}


fascist_coup = {
	choose_fascism = {
		icon = generic_nationalism
		complete_effect = {
			set_country_flag = fascism_choosen
		}
	}
	communist_power_base = {

		icon = generic_nationalism
		available = {
			NOT = { has_country_flag = communist_influence_running }
		}
		state_target = yes
		visible = {
			FROM = {
				NOT = { 
					has_state_flag = pak_communist_influence
				}
				is_owned_by = PAK
			}
		}
		target_trigger = {
			FROM = {
				AND = {
					is_owned_by = PAK
					is_core_of = PAK
				}
			}
		}
		days_remove = 50

		fire_only_once = yes

		cost = 25

		modifier = {
			
		}
		complete_effect = {
			set_country_flag = communist_influence_running
		}
		remove_effect = {
			clr_country_flag = communist_influence_running
			FROM = {
				set_state_flag = pak_communist_influence
			}
			ROOT = {
				add_popularity = {
					ideology = communism
					popularity = 0.05
				}
			}
		}
	}
	
	PAK_Storm_Karachi = {

		allowed = {
		
		}	

		icon = generic_nationalism

		available = {
			any_owned_state = {
				has_state_flag = pak_communist_influence
			}
		}

		cost = 100
		days_remove = 40
		fire_only_once = yes

		visible = {
			tag = PAK
		}	

		highlight_states = {
			every_owned_state = {
				has_state_flag = pak_communist_influence
			}
		}
		
		complete_effect = {
			add_stability = -0.40
			every_owned_state = {
				limit = {
					has_state_flag = pak_communist_influence
				}
				ROOT = {
					add_stability = 0.05
				}
			}
			every_owned_state = {
				limit = {
					NOT = { 
						has_state_flag = pak_communist_influence
					}	
				}
				remove_core_of = PAK
			}
			set_politics = {
				ruling_party = communism
				last_election = "1936.1.1"
				election_frequency = 48
				elections_allowed = no
			}
		}

		ai_will_do = {
			factor = 3
		}
	}
}