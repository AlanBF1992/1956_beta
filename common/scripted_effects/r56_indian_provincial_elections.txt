 
 ####################################
 #  INC - Indian National Congress  #
 #     UP/UPA - Unionist Party      #
 # IFB/ILP Independent Labour Party #
 ####################################

raj_calculate_election = {
	hidden_effect = {
		RAJ = {
			set_variable = {
				inc_control = 0
			}
			every_owned_state = {
				limit = { INC_Majority = yes }
				RAJ = {add_to_variable = { inc_control = 1 }}
			}
			divide_variable = { inc_control = 11 }
			multiply_variable = { inc_control = 100 }
		}
		RAJ = {
			set_variable = {
				upa_control = 0
			}
			every_owned_state = {
				limit = { UPA_Majority = yes }
				RAJ = {add_to_variable = { upa_control = 1 }}
			}
			divide_variable = { upa_control = 11 }
			multiply_variable = { upa_control = 100 }
		}
		RAJ = {
			set_variable = {
				ifb_control = 0
			}
			every_owned_state = {
				limit = { IFB_Majority = yes }
				RAJ = {add_to_variable = { ifb_control = 1 }}
			}
			divide_variable = { ifb_control = 11 }
			multiply_variable = { ifb_control = 100 }
		}
		RAJ = {
			set_variable = { temp1 = inc_control }
			add_to_variable = { temp1 = upa_control }
			add_to_variable = { temp1 = ifb_control }
			set_variable = {
				neutral_control = 100
			}
			subtract_from_variable = { neutral_control = temp1 }
			
		}
	}
}
raj_decrease_influence_by_1 = { 
	if = { limit = { check_variable = { inc > 0 } } add_to_variable = { inc = -1 } }
	if = { limit = { check_variable = { ifb > 0 } } add_to_variable = { ifb = -1 } }
	if = { limit = { check_variable = { upa > 0 } } add_to_variable = { upa = -1 } }
	if = { limit = { check_variable = { neutral > 0 } } add_to_variable = { neutral = -1 } }
	raj_calculate_election = yes
}
raj_increase_selected_influence_by_1 = {
	if = { limit = { RAJ = { has_country_flag = inc_support } } add_to_variable = { inc = 1 } custom_effect_tooltip = raj_inc_1 }
	if = { limit = { RAJ = { has_country_flag = ifb_support } } add_to_variable = { ifb = 1 } custom_effect_tooltip = raj_ifb_1 }
	if = { limit = { RAJ = { has_country_flag = upa_support } } add_to_variable = { upa = 1 } custom_effect_tooltip = raj_upa_1 }
	raj_calculate_election = yes
}
increase_enemy_support_by_1 = {
	hidden_effect = {
		if = { limit = { RAJ = { has_country_flag = inc_operation } } add_to_variable = { inc = 1 } }
		if = { limit = { RAJ = { has_country_flag = ifb_operation } } add_to_variable = { ifb = 1 } }
		if = { limit = { RAJ = { has_country_flag = upa_operation } } add_to_variable = { upa = 1 } }
		raj_calculate_election = yes
	}
}
raj_lost_election_consequences = {
	if = {
		limit = {
			has_country_flag = INC_victory
		}
		complete_national_focus = RAJ_Secure_Rural_Hindus
	}
	if = {
		limit = {
			has_country_flag = UP_victory
		}
		complete_national_focus = RAJ_Appeal_to_the_Low_Castes
	}
	if = {
		limit = {
			has_country_flag = ILP_victory
		}
		complete_national_focus = RAJ_Content_for_British_Rule
	}
}
raj_calculate_popularity_post_election = {
	hidden_effect = {
		news_event = {
			id = india.5
			hours = 50
		}
		
		set_party_name = {
			ideology = neutrality
			name = "UP"
			long_name = "Unionist Party"
		}
		if = {
			limit = {
				neutral_control > 0
			}
			divide_variable = {
				neutral_control = 3
			}
			add_to_variable = {
				inc_control = neutral_control
			}
			add_to_variable = {
				upa_control = neutral_control
			}
			add_to_variable = {
				ifb_control = neutral_control
			}
		}
		set_political_party = {
			ideology = democratic
			popularity = inc_control
		}
		set_political_party = {
			ideology = communism
			popularity = ifb_control
		}
		set_political_party = {
			ideology = neutrality
			popularity = upa_control
		}
		add_popularity = {
			ideology = fascism
			popularity = -1
		}
		if = {#Adding Leader Idea
			limit = {
				has_country_flag = INC_victory
			}
			
		}
		if = {
			limit = {
				has_country_flag = UP_victory
			}
			
		}
		if = {
			limit = {
				has_country_flag = ILP_victory
			}
			
		}
	}
}