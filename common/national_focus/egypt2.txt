focus_tree = {
    id = egypt_focus # Egypt focus tree created by The Brit
    country = {
        factor = 0
        modifier = {
            add = 30
            tag = EGY
        }
    }
    default = no
	continuous_focus_position = { x = 650 y = 1350 }

    focus = {
        id = EGY_anglo_egyptian_treaty
        icon = GFX_focus_chi_british_cooperation
        x = 53
        y = 0
        cost = 10
        available = {
            OR = {
                is_subject_of = ENG
                is_in_faction_with = ENG
            }
        }
        search_filters = {FOCUS_FILTER_POLITICAL}
        ai_will_do = {
            factor = 10
        }
        completion_reward = {
            random_country = {
				limit = {
					original_tag = ENG
					is_in_faction_with = ROOT
				}
				add_opinion_modifier = { target = EGY modifier = ENG_anglo_egyptian_treaty }
			}

        }
    }
    focus = {
        id = EGY_empower_govenor_general
        icon = GFX_goal_generic_army_elite
        relative_position_id = EGY_anglo_egyptian_treaty
		x = -5
		y = 1
        cost = 10
        available = {
            has_country_flag = EGY_fuad_bit_the_dust
            is_subject_of = ENG
        }
        prerequisite = {
            focus = EGY_anglo_egyptian_treaty
        }
        mutually_exclusive = {
            focus = EGY_continue_the_status_quo
        }
        search_filters = {FOCUS_FILTER_POLITICAL}
        ai_will_do = {
            factor = 10
        }
        completion_reward = {
            add_stability = -0.1
            add_autonomy_score = {
                value = -50
                localization = EGY_empower_govenor_general_autonomy
            }
            custom_effect_tooltip = EGY_empower_govenor_general_warning
        }
    }
    focus = {
        id = EGY_increase_british_military_influence
        icon = GFX_focus_generic_military_dictatorship
        relative_position_id = EGY_empower_govenor_general
		x = 0
		y = 1
        cost = 10
        available = {
            is_subject_of = ENG
        }
        prerequisite = {
            focus = EGY_empower_govenor_general
        }
        search_filters = {FOCUS_FILTER_POLITICAL}
        ai_will_do = {
            factor = 10
        }
        completion_reward = {
            add_stability = -0.1
            add_war_support = 0.1
            add_autonomy_score = {
                value = -100
                localization = EGY_empower_govenor_general_autonomy
            }
            random_owned_controlled_state = {
                prioritize = { 447 }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
                }
            random_owned_controlled_state = {
                prioritize = { 446 }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
            }
        }
    }
    focus = {
        id = EGY_storm_abdeen_palace
        icon = GFX_focus_eng_move_to_secure_the_dominions
        relative_position_id = EGY_empower_govenor_general
		x = 0
		y = 2
        cost = 10
        available = {
            is_subject_of = ENG
        }
        prerequisite = {
            focus = EGY_increase_british_military_influence
        }
        search_filters = {FOCUS_FILTER_POLITICAL}
        ai_will_do = {
            factor = 10
        }
        completion_reward = {
            add_stability = -0.15
            add_popularity = {
                ideology = neutrality
                popularity = -0.1
            }
            add_autonomy_score = {
                value = -150
                localization = EGY_empower_govenor_general_autonomy
            }
            set_party_name = { 
                ideology = neutrality 
                long_name = "British Colonial Government"
                name = "British Colonial Government"
            }
            add_country_leader_role = {
			    character = EGY_stewart_symes
                promote_leader = yes
                country_leader = {
			        ideology = oligarchism
                    expire = "1965.1.1.1"
			        traits = {
				        governor_general
                        land_owner
			        }
                }
		    }
            set_cosmetic_tag = EGY_BRITISH_PUPPET
            custom_effect_tooltip = EGY_empower_govenor_general_warning2
            hidden_effect = {
                if = {
                    limit = {
                        has_stability < 0.5
                    }
                    start_civil_war = {
                        ruling_party = neutrality
                        ideology = fascism
                        size = 0.4
                        only_own_territory = yes
                        keep_unit_leaders = {
                            6983 6982
                        }
                        keep_political_party_members = yes
                    }
                }
                else = {
                    remove_unit_leader_role = EGY_hussein_refki
                    remove_unit_leader_role = EGY_muhammad_naguib
                }
            }
        }
    }
    focus = {
        id = EGY_continue_the_status_quo
        icon = GFX_goal_EGY_monarchist
        relative_position_id = EGY_anglo_egyptian_treaty
		x = -3
		y = 1
        cost = 10
        mutually_exclusive = {
            focus = EGY_empower_govenor_general
        }
        prerequisite = {
            focus = EGY_anglo_egyptian_treaty
        }
        search_filters = {FOCUS_FILTER_POLITICAL}
        ai_will_do = {
            factor = 10
        }
        completion_reward = {
            add_stability = 0.05
            add_autonomy_score = {
                value = 50
                localization = EGY_continue_the_status_quo_autonomy
            }

        }
    }
    focus = {
        id = EGY_influence_of_the_king
        icon = GFX_goal_centralize_power
        relative_position_id = EGY_continue_the_status_quo
		x = 0
		y = 2
        cost = 10
        available = {
            has_country_leader = {
                name = "Farouk I"
                leading_only = yes
            }
        }
        prerequisite = {
            focus = EGY_continue_the_status_quo
        }
        search_filters = {FOCUS_FILTER_POLITICAL}
        ai_will_do = {
            factor = 10
        }
        completion_reward = {
            remove_country_leader_trait = inexperienced_monarch
            add_field_marshal_role = {
                Character = EGY_farouk_i
                skill = 2
                attack_skill = 1
                defense_skill = 3
                planning_skill = 1
                logistics_skill = 2
            }

        }
    }



	focus = {
        id = EGY_crush_sudanese_separatists
        icon = GFX_goal_VEN_coat_of_arms
        relative_position_id = EGY_anglo_egyptian_treaty
		x = 0
		y = 2
        cost = 5
        prerequisite = {
            focus = EGY_continue_the_status_quo
            focus = EGY_egypts_place_in_the_empire
            focus = EGY_empower_govenor_general
        }
        search_filters = {FOCUS_FILTER_POLITICAL}
        ai_will_do = {
            factor = 10
        }
        completion_reward = {
            custom_effect_tooltip = EGY_work_in_progress

        }
    }
    focus = {
        id = EGY_egypts_place_in_the_empire
        icon = GFX_goal_tfv_strengthen_commonwealth_ties
        relative_position_id = EGY_anglo_egyptian_treaty
		x = 5
		y = 1
        cost = 5
        available = {
			OR = {
                any_country = {
					original_tag = ENG
					is_in_faction_with = ROOT
				}
				any_country = {
					original_tag = NZL
					is_in_faction_with = ROOT
				}
				any_country = {
					original_tag = SAF
					is_in_faction_with = ROOT
				}
				any_country = {
					original_tag = RAJ
					is_in_faction_with = ROOT
				}
				any_country = {
					original_tag = AST
					is_in_faction_with = ROOT
				}
				any_country = {
					original_tag = NZL
					is_in_faction_with = ROOT
				}
                any_country = {
					original_tag = MAL
					is_in_faction_with = ROOT
				}
			}
		}
		bypass = {
			CAN = {
				exists = no
			}
			SAF = {
				exists = no
			}
			RAJ = {
				exists = no
			}
			AST = {
				exists = no
			}
			NZL = {
				exists = no
			}
            ENG = {
                exists = no
            }
			NOT = {
				any_state = {
					OR = {
						is_core_of = ENG
						is_core_of = CAN
						is_core_of = SAF
						is_core_of = AST
						is_core_of = NZL
						is_core_of = RAJ
                        is_core_of = MAL
					}
					NOT = { state = 320 }
					NOT = { state = 321 }
					OWNER = {
						NOT = { tag = ENG }
					}
				}
			}
		}
        prerequisite = {
            focus = EGY_anglo_egyptian_treaty
        }
        search_filters = {FOCUS_FILTER_POLITICAL}
        ai_will_do = {
            factor = 10
        }
        completion_reward = {
            random_country = {
				limit = {
					original_tag = ENG
					is_in_faction_with = ROOT
				}
				add_opinion_modifier = { target = EGY modifier = ENG_commonwealth_ties }
			}
            random_country = {
				limit = {
					original_tag = CAN
					is_in_faction_with = ROOT
				}
				add_opinion_modifier = { target = EGY modifier = ENG_commonwealth_ties }
			}
			random_country = {
				limit = {
					original_tag = AST
					is_in_faction_with = ROOT
				}
				add_opinion_modifier = { target = EGY modifier = ENG_commonwealth_ties }
			}
			random_country = {
				limit = {
					original_tag = RAJ
					is_in_faction_with = ROOT
				}
				add_opinion_modifier = { target = EGY modifier = ENG_commonwealth_ties }
			}
			random_country = {
				limit = {
					original_tag = NZL
					is_in_faction_with = ROOT
				}
				add_opinion_modifier = { target = EGY modifier = ENG_commonwealth_ties }
			}
			random_country = {
				limit = {
					original_tag = SAF
					is_in_faction_with = ROOT
				}
				add_opinion_modifier = { target = EGY modifier = ENG_commonwealth_ties }
			}
            random_country = {
				limit = {
					original_tag = MAL
					is_in_faction_with = ROOT
				}
				add_opinion_modifier = { target = EGY modifier = ENG_commonwealth_ties }
			}
        }
    }
    focus = {
        id = EGY_the_nile_strategy
        icon = GFX_focus_generic_coastal_fort
        relative_position_id = EGY_egypts_place_in_the_empire
		x = -2
		y = 1
        cost = 10
        available = {
            has_full_control_of_state = 446
        }
        prerequisite = {
            focus = EGY_egypts_place_in_the_empire
        }
        search_filters = {FOCUS_FILTER_POLITICAL}
        ai_will_do = {
            factor = 10
        }
        completion_reward = {
            add_war_support = 0.05
            446 = {
                add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 7188
                }
                add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 4143
                }
                add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 12004
                }
                add_building_construction = {
					type = bunker
					level = 3
					instant_build = yes
					province = 7011
                }
                add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 10005
                }
            }
        }
    }
    focus = {
        id = EGY_imperial_air_bases
        icon = GFX_goal_generic_air_production
        relative_position_id = EGY_the_nile_strategy
		x = 1
		y = 1
        cost = 10
        prerequisite = {
            focus = EGY_the_nile_strategy
        }
        search_filters = {FOCUS_FILTER_POLITICAL}
        ai_will_do = {
            factor = 10
        }
        completion_reward = {
            add_doctrine_cost_reduction = {
                uses = 1
                cost_reduction = 0.5
                category = air_doctrine
            }
            random_owned_controlled_state = {
                prioritize = { 447 }
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
            random_owned_controlled_state = {
                prioritize = { 446 }
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes

				}
			}
        }
    }
    focus = {
        id = EGY_cairo_logistics
        icon = GFX_goal_generic_construction2
        relative_position_id = EGY_the_nile_strategy
		x = -1
		y = 1
        cost = 5
        prerequisite = {
            focus = EGY_the_nile_strategy
        }
        search_filters = {FOCUS_FILTER_POLITICAL}
        ai_will_do = {
            factor = 10
        }
        completion_reward = {
            447 = {
                add_building_construction = {
					type = naval_base
					level = 2
					instant_build = yes
					province = 4076
                }
            }
            446 = {
                add_building_construction = {
					type = naval_base
					level = 2
					instant_build = yes
					province = 12049
                }
                add_building_construction = {
					type = coastal_bunker
					level = 2
					instant_build = yes
					province = 12049
                }
                add_building_construction = {
					type = naval_base
					level = 2
					instant_build = yes
					province = 4073
                }
                add_building_construction = {
					type = coastal_bunker
					level = 2
					instant_build = yes
					province = 4073
                }
            }
            random_owned_controlled_state = {
                prioritize = { 446 }
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = infrastructure
                    level = 1
                    instant_build = yes
                }
            }
            random_owned_controlled_state = {
                prioritize = { 447 }
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = infrastructure
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
    focus = {
        id = EGY_commonwealth_air_training_plan
        icon = GFX_goal_generic_air_fighter2
        relative_position_id = EGY_the_nile_strategy
		x = 1
		y = 2
        cost = 5
        available = {
            is_subject_of = ENG
            ENG = {
                has_completed_focus = ENG_british_commonwealth_air_training_plan
            }
        }
        prerequisite = {
            focus = EGY_imperial_air_bases
        }
        prerequisite = {
            focus = EGY_cairo_logistics
        }
        search_filters = {FOCUS_FILTER_POLITICAL}
        ai_will_do = {
            factor = 10
        }
        completion_reward = {
            air_experience = 10
            add_ideas = ENG_joint_air_training_scheme

        }
    }
    focus = {
        id = EGY_supply_the_empire
        icon = GFX_focus_POL_develop_polish_shipbuilding
        relative_position_id = EGY_the_nile_strategy
		x = 0
		y = 3
        cost = 10
        prerequisite = {
            focus = EGY_imperial_air_bases
            focus = EGY_commonwealth_air_training_plan
        }
        prerequisite = {
            focus = EGY_cairo_logistics
        }
        search_filters = {FOCUS_FILTER_POLITICAL}
        ai_will_do = {
            factor = 10
        }
        completion_reward = {
            add_equipment_to_stockpile = {
                type = convoy
                amount = 100
                producer = EGY
            }
            random_owned_controlled_state = {
                prioritize = { 447 }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
				    instant_build = yes
			    }
            }
        }
    }
    focus = {
        id = EGY_commonwealth_research_cooperation
        icon = GFX_goal_continuous_research
        relative_position_id = EGY_egypts_place_in_the_empire
		x = 2
		y = 1
        cost = 10
        available = {
            is_in_faction_with = ENG
        }
        prerequisite = {
            focus = EGY_egypts_place_in_the_empire
        }
        search_filters = {FOCUS_FILTER_POLITICAL}
        ai_will_do = {
            factor = 10
        }
        completion_reward = {
            if = {
                limit = { has_dlc = "Together for Victory" }
            
                add_to_tech_sharing_group = commonwealth_research
            }
            else = {
                add_ideas = EGY_commomwealth_research_cooperation_bonus
            }

        }
    }
    focus = {
        id = EGY_commonwealth_investors
        icon = GFX_goal_generic_bills
        relative_position_id = EGY_commonwealth_research_cooperation
		x = -1
		y = 1
        cost = 10
        prerequisite = {
            focus = EGY_commonwealth_research_cooperation
        }
        search_filters = {FOCUS_FILTER_POLITICAL}
        ai_will_do = {
            factor = 10
        }
        completion_reward = {
            random_owned_controlled_state = {
                prioritize = { 447 }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
                }
            random_owned_controlled_state = {
                prioritize = { 446 }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
            }
        }
    }
    focus = {
        id = EGY_continue_british_arms_shipments
        icon = GFX_goal_generic_gun_purchase
        relative_position_id = EGY_commonwealth_research_cooperation
		x = 1
		y = 1
        cost = 10
        prerequisite = {
            focus = EGY_commonwealth_research_cooperation
        }
        search_filters = {FOCUS_FILTER_POLITICAL}
        ai_will_do = {
            factor = 10
        }
        completion_reward = {
            RAJ = {
				add_equipment_to_stockpile = {
					type = infantry_equipment
  					amount = 5000
 		 			producer = ENG
				}
				add_opinion_modifier = {
					target = ENG
					modifier = RAJ_Weapon_Shipments
				}
			}

        }
    }
    focus = {
        id = EGY_scientific_innovations
        icon = GFX_focus_research
        relative_position_id = EGY_commonwealth_research_cooperation
		x = 0
		y = 2
        cost = 10
        prerequisite = {
            focus = EGY_commonwealth_investors
        }
        prerequisite = {
            focus = EGY_continue_british_arms_shipments
        }
        search_filters = {FOCUS_FILTER_POLITICAL}
        ai_will_do = {
            factor = 10
        }
        completion_reward = {
            add_research_slot = 1

        }
    }
    focus = {
        id = EGY_study_british_armor
        icon = GFX_goal_generic_heavy_armour_british
        relative_position_id = EGY_commonwealth_research_cooperation
		x = 0
		y = 3
        cost = 10
        prerequisite = {
            focus = EGY_scientific_innovations
        }
        search_filters = {FOCUS_FILTER_POLITICAL}
        ai_will_do = {
            factor = 10
        }
        completion_reward = {
            add_tech_bonus = {
				bonus = 1
				ahead_reduction = 1
				uses = 1
				category = cat_medium_armor
			}
        }
    }
    focus = {
        id = EGY_prepare_homeland_defense
        icon = GFX_goal_generic_fortify_city
        relative_position_id = EGY_commonwealth_research_cooperation
		x = -3
		y = 4
        cost = 10
        prerequisite = {
            focus = EGY_study_british_armor
        }
        prerequisite = {
            focus = EGY_supply_the_empire
        }
        mutually_exclusive = {
            focus = EGY_take_the_lead_in_africa
        }
        search_filters = {FOCUS_FILTER_POLITICAL}
        ai_will_do = {
            factor = 10
        }
        completion_reward = {
            add_stability = 0.05
            if = {
                limit = {
                    has_full_control_of_state = 447
                }
                447 = {
                    add_building_construction = {
                        type = bunker
                        level = 3
                        instant_build = yes
                        province = 1071
                    }
                }
            }
            add_ideas = EGY_prepare_homeland_defense_bonus
        }
    }
    focus = {
        id = EGY_take_the_lead_in_africa
        icon = GFX_goal_EGY_eagle
        relative_position_id = EGY_commonwealth_research_cooperation
		x = -1
		y = 4
        cost = 10
        available = {
            is_in_faction = yes
            has_war = yes
        }
        prerequisite = {
            focus = EGY_study_british_armor
        }
        prerequisite = {
            focus = EGY_supply_the_empire
        }
        mutually_exclusive = {
            focus = EGY_prepare_homeland_defense
        }
        search_filters = {FOCUS_FILTER_POLITICAL}
        ai_will_do = {
            factor = 10
        }
        completion_reward = {
            add_war_support = 0.05
            add_ideas = EGY_take_the_lead_in_africa_bonus

        }
    }
    focus = {
        id = EGY_request_libyan_occupation
        icon = GFX_goal_generic_military_deal
        relative_position_id = EGY_take_the_lead_in_africa
		x = 0
		y = 1
        cost = 5
        available = {
            any_other_country = {
                is_in_faction_with = EGY
                any_owned_state = {
                    is_core_of = LBA
                }
            }
        }
        prerequisite = {
            focus = EGY_take_the_lead_in_africa
        }
        search_filters = {FOCUS_FILTER_POLITICAL}
        ai_will_do = {
            factor = 10
        }
        completion_reward = {
            custom_effect_tooltip = EGY_work_in_progress

        }
    }



	focus = {
        id = EGY_forge_our_own_path
        icon = GFX_goal_VEN_coat_of_arms
        x = 23
        y = 0
        cost = 5
        available = {
            has_country_flag = EGY_fuad_bit_the_dust
        }
        search_filters = {FOCUS_FILTER_POLITICAL}
        ai_will_do = {
            factor = 10
        }
        completion_reward = {
            add_political_power = 50

        }
    }