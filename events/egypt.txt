add_namespace = egypt

country_event = { # Death of Fuad I
    id = egypt.1
    picture = GFX_report_event_generic_riot
	title = egypt.1.t
	desc = egypt.1.d
    fire_only_once = yes

    is_triggered_only = yes

    option = {
       name = egypt.1.a
		retire_character = EGY_fuad_i
		set_country_flag = EGY_fuad_bit_the_dust
        add_country_leader_role = {
			character = EGY_farouk_i
			promote_leader = yes
			country_leader = {
				ideology = absolute_monarchism
				expire = "1965.1.1.1"
				traits = {
					inexperienced_monarch
				}
			}
		}
    } 
}

country_event = { # 1936 Anglo-Egyptian conference begins
    id = egypt.2
    picture = GFX_report_event_generic_riot
	title = egypt.2.t
	desc = egypt.2.d
    fire_only_once = yes
	trigger = {
		tag = EGY
		has_war = no
		EGY = {
			is_subject_of = ENG
		}
	}

	mean_time_to_happen = {
		days = 30
	}

    option = {
       	name = egypt.2.a
	    set_country_flag = EGY_1936_anglo_egyptian_conference_begins
		ENG = {
			set_country_flag = EGY_1936_anglo_egyptian_conference_begins
			country_event = { id = egypt.2 hours = 6 }
		}
    } 
}

country_event = { # Egypt demands British military withdrawl
    id = egypt.3
    picture = GFX_report_event_generic_riot
	title = egypt.3.t
	desc = egypt.3.d
    fire_only_once = yes

    is_triggered_only = yes

    option = { # We have no choice
		name = egypt.3.a
		ai_chance = { 
			factor = 1
			modifier = {
				factor = 30
				OR = {
					has_government = democratic
					has_government = communism
				}
				is_historical_focus_on = yes
			}
			modifier = {
				factor = 15
				has_opinion = {
					target = EGY
					value > 19
				}
			}
			modifier = {
				factor = 30
				has_war = yes
			}
		}
        add_political_power = 10
		ENG = {
			end_puppet = EGY
		}
    }
	option = { # No way! (bad choice)
		name = egypt.3.b
		ai_chance = { 
			factor = 1
			modifier = {
				factor = 30
				OR = {
					has_government = neutrality
					has_government = fascism
				}
			}
			modifier = {
				factor = 15
				has_opinion = {
					target = EGY
					value < 49
				}
			}
		}
		add_stability = -0.1
		add_political_power = -100
		set_autonomy = {
			target = EGY
			autonomy_state = autonomy_free
			end_wars = no
			end_civil_wars = no
		}
		EGY = {
			leave_faction = yes
		}
		create_wargoal = {
			type = puppet_wargoal_focus
			target = EGY
			expire = 0
		}
	}  
}

country_event = { # Propisition of Egyptian independence
    id = egypt.4
    picture = GFX_report_event_generic_riot
	title = egypt.4.t
	desc = egypt.3.d
    fire_only_once = yes

    is_triggered_only = yes

    option = { # We have no choice
		name = egypt.4.a
		ai_chance = { 
			base = 1
			modifier = {
				factor = 30
				OR = {
					has_government = democratic
					has_government = communism
				}
				is_historical_focus_on = yes
			}
			modifier = {
				factor = 15
				has_opinion = {
					target = EGY
					value > 19
				}
			}
			modifier = {
				factor = 30
				has_war = yes
			}
		}
		EGY = {
			country_event = { id = egypt.5 hours = 12 }
		}
        
    }
	option = { # No way! (bad choice)
		name = egypt.3.b
		ai_chance = { 
			base = 1
			modifier = {
				factor = 30
				OR = {
					has_government = neutrality
					has_government = fascism
				}
			}
			modifier = {
				factor = 15
				has_opinion = {
					target = EGY
					value < 49
				}
			}
			modifier = {
				factor = 30
				has_war = yes
			}
		}
		add_stability = -0.1
		add_political_power = -100
		set_autonomy = {
			target = EGY
			autonomy_state = autonomy_free
			end_wars = no
			end_civil_wars = no
		}
		EGY = {
			leave_faction = yes
		}
		create_wargoal = {
			type = puppet_wargoal_focus
			target = EGY
			expire = 0
		}
	}  
}