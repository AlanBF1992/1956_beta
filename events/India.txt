###########################
# Indian Events
###########################

add_namespace = india

country_event = {#ADEN HANDOVER
    id = india.100
	title = india.1.t
	desc = india.1.desc
    fire_only_once = yes

    is_triggered_only = yes

    option = {
        name = india.1.a
     }
}

### E L E C T I O N  E V E N T S ###

country_event = {#Election Notification
    id = india.1
	title = india.intro.t
	desc = india.intro.desc
    fire_only_once = yes
	picture = GFX_report_event_picture_RAJ_Indian_National_Congress
    is_triggered_only = yes

	trigger = {
		#Didnt choose Underground Activity
	}
	
    option = {#Let them play in their Ballpit
        name = india.intro.a
		trigger = {
			NOT = {
				focus_progress = {
					focus = RAJ_Provincial_Elections
					progress > 0
				}
			}
		}
		set_country_flag = chose_raj
    }
    option = {#We shall build a greater India together
        name = india.intro.b
		country_event = {
			id = india.2
			days = 17
		}
		hidden_effect = {
			set_party_name = {
				ideology = communism
				name = "ILP"
				long_name = "Independent Labour Party"
			}
		}
		trigger = {
			NOT = {
				focus_progress = {
					focus = RAJ_Linlithgows_Reign
					progress > 0
				}
			}
		}
		set_country_flag = chose_ind
    }
}

country_event = {#PROVINCIAL ELECTIONS
    id = india.2
	title = india.2.t
	desc = india.2.desc
    fire_only_once = yes
	picture = GFX_report_event_picture_RAJ_generic_election
    is_triggered_only = yes
	immediate = {
		hidden_effect = {
			set_country_flag = election_enabled
			set_variable = {
				var = inc_control
				value = 0
			}
			set_variable = {
				var = upa_control
				value = 0
			}
			set_variable = {
				var = ifb_control
				value = 0
			}
			set_variable = {
				var = neutral_control
				value = 0
			}
			every_owned_state = {
				limit = {
					is_core_of = RAJ
					NOT = {
						has_state_flag = princely_state
						state = 424
						state = 431
						state = 445
					}
				}
				set_variable = {	#Influence range from 0-5
					var = inc
					value = 1
				}
				set_variable = {
					var = upa
					value = 1
				}
				set_variable = {
					var = ifb
					value = 1
				}
				set_variable = {
					var = neutral
					value = 2
				}
			}
			443 = {
				set_variable = {
					var = neutral
					value = 4
				}
				set_variable = {
					var = inc
					value = 1
				}
			}
			440 = {
				set_variable = {
					var = upa
					value = 3
				}
			}
			raj_calculate_election = yes
			country_event = { 
				id = india.3
				days = 2
			}
		}
	}
    option = {
        name = india.2.a
		custom_effect_tooltip = raj_election_start
		effect_tooltip = { complete_national_focus = RAJ_Indian_National_Congress }
		set_country_flag = inc_support
    }
    option = {
        name = india.2.b
		custom_effect_tooltip = raj_election_start
		effect_tooltip = { complete_national_focus = RAJ_Unionist_Party }
		set_country_flag = upa_support
    }
    option = {
        name = india.2.c
		custom_effect_tooltip = raj_election_start
		effect_tooltip = { complete_national_focus = RAJ_Independent_Labour_Party }
		set_country_flag = ifb_support
    }
}
country_event = {#ELECTION ENEMY ACTION
    id = india.3
	hidden = yes
    is_triggered_only = yes
	immediate = {
		if = { 
			limit = {
				tag = RAJ
				has_country_flag = election_enabled
			}
			country_event = { 
				id = india.3
				days = 40
			}
			random_owned_state = {
				limit = { 
					NOT = {
						has_state_flag = princely_state
						state = 424
						state = 431
						state = 445
					}
					is_owned_by = RAJ
					is_core_of = RAJ
				}
				RAJ = { set_variable = { enemy_campaign_state = PREV.id } }
				set_state_flag = raj_enemy_op 
				set_state_flag = enemy_campaign_running
			}
			if = {
				limit = {
					has_country_flag = INC_support
				}
				random_list = {
					66 = {#UP Action
						RAJ = { 
							set_country_flag = upa_operation
							activate_mission = upa_enemy_operation
						}
					}	
					34 = {#IFB Action
						RAJ = {
							set_country_flag = ifb_operation
							activate_mission = ifb_enemy_operation
						}
					}
				}
			}
			if = {
				limit = {
					has_country_flag = UPA_support
				}
				random_list = {
					50 = {#INC Action
						RAJ = { 
							set_country_flag = inc_operation
							activate_mission = inc_enemy_operation
						}
					}	
					50 = {#IFB Action
						RAJ = { 
							set_country_flag = ifb_operation
							activate_mission = ifb_enemy_operation
						}
					}
				}
			}
			if = {
				limit = {
					has_country_flag = IFB_support
				}
				random_list = {
					34 = {#INC Action
						RAJ = { 
							set_country_flag = inc_operation
							activate_mission = inc_enemy_operation
						}
					}	
					66 = {#UPA Action
						RAJ = {
							set_country_flag = upa_operation
							activate_mission = upa_enemy_operation
						}
					}
				}
			}
		}
	}
}
country_event = {#INC moves to secure rural Hindus
    id = india.300
	title = india.300.t
	desc = india.300.desc
    fire_only_once = yes
	picture = GFX_report_event_picture_RAJ_Indian_National_Congress
    is_triggered_only = yes

    option = {
        name = india.300.a
		436 = {
			add_to_variable = {
				inc = 2
			}
			custom_effect_tooltip = raj_inc_2
		}
		438 = {
			add_to_variable = {
				inc = 2
			}
			custom_effect_tooltip = raj_inc_2
		}
		423 = {
			add_to_variable = {
				inc = 2
			}
			custom_effect_tooltip = raj_inc_2
		}
    }
    option = {	#Fight them
        name = india.300.b
		add_political_power = -150
		436 = {
			add_to_variable = {
				inc = 1
			}
			custom_effect_tooltip = raj_inc_1
		}
		438 = {
			add_to_variable = {
				inc = 1
			}
			custom_effect_tooltip = raj_inc_1
		}
		423 = {
			add_to_variable = {
				inc = 1
			}
			custom_effect_tooltip = raj_inc_1
		}
    }
}
country_event = {#Unionist Party secures industrial support
    id = india.301
	title = india.301.t
	desc = india.301.desc
    fire_only_once = yes
	picture = GFX_report_event_picture_RAJ_Provincial_Result
    is_triggered_only = yes

    option = {
        name = india.301.a
		111 = {
			add_to_variable = {
				upa = 2
			}
			custom_effect_tooltip = raj_upa_2
		}
		111 = {
			add_to_variable = {
				upa = 2
			}
			custom_effect_tooltip = raj_upa_2
		}
		111 = {
			add_to_variable = {
				upa = 2
			}
			custom_effect_tooltip = raj_upa_2
		}
    }
    option = {	#Privatise Industry
        name = india.301.b
		random_owned_state = {
			limit = {
				has_building = {
					industrial_complex > 0
				}
			}
			remove_building = {
				type = industrial_complex
				level = 1
			}
		}
		111 = {
			add_to_variable = {
				upa = 1
			}
			custom_effect_tooltip = raj_upa_1
		}
		111 = {
			add_to_variable = {
				upa = 1
			}
			custom_effect_tooltip = raj_upa_1
		}
		111 = {
			add_to_variable = {
				upa = 1
			}
			custom_effect_tooltip = raj_upa_1
		}
    }
}
country_event = {#Independent Labour Party secures international support
    id = india.302
	title = india.302.t
	desc = india.302.desc
    fire_only_once = yes
	picture = GFX_report_event_picture_RAJ_Government_Formation
    is_triggered_only = yes

    option = {
        name = india.302.a
		111 = {
			add_to_variable = {
				ifb = 2
			}
			custom_effect_tooltip = raj_ifb_2
		}
		111 = {
			add_to_variable = {
				ifb = 2
			}
			custom_effect_tooltip = raj_ifb_2
		}
		111 = {
			add_to_variable = {
				ifb = 2
			}
			custom_effect_tooltip = raj_ifb_2
		}
    }
    option = {	#Hinder them
        name = india.302.b
		every_country = {
			limit = {
				has_government = communist
				NOT = {
					has_war_with = SOV
				}	
				has_opinion = {
					target = RAJ
					value < 50
				}
			}
			add_opinion_modifier = {
				modifier = embargo
				target = RAJ
			}
		}
		111 = {
			add_to_variable = {
				ifb = 1
			}
			custom_effect_tooltip = raj_ifb_1
		}
		111 = {
			add_to_variable = {
				ifb = 1
			}
			custom_effect_tooltip = raj_ifb_1
		}
		111 = {
			add_to_variable = {
				ifb = 1
			}
			custom_effect_tooltip = raj_ifb_1
		}
    }
}

