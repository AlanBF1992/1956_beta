###########################
# Indian Events
###########################

add_namespace = india
add_namespace = india_border_conflict

country_event = {#ADEN HANDOVER
    id = india.100
	title = india.1.t
	desc = india.1.desc
    fire_only_once = yes

    is_triggered_only = yes

    option = {
        name = india.1.a
     }
}

### E L E C T I O N  E V E N T S ###

country_event = {#Election Notification
    id = india.1
	title = india.intro.t
	desc = india.intro.desc
    fire_only_once = yes
	picture = GFX_report_event_picture_RAJ_Indian_National_Congress
    is_triggered_only = yes

	trigger = {
		#Didnt choose Underground Activity
	}
	
	# FREE INDIA IS WIP
    #option = {#Let them play in their Ballpit
    #    name = india.intro.c
	#	trigger = {
	#		NOT = {
	#			focus_progress = {
	#				focus = RAJ_Reinforce_the_Government_of_India_Act
	#				progress > 0
	#			}
	#		}
	#	}
	#	set_country_flag = chose_underground
    #}
    option = {#Let them play in their Ballpit
        name = india.intro.a
		trigger = {
			NOT = {
				focus_progress = {
					focus = RAJ_Provincial_Elections
					progress > 0
				}
			}
		}
		set_country_flag = chose_raj
    }
    option = {#We shall build a greater India together
        name = india.intro.b
		country_event = {
			id = india.2
			days = 17
		}
		hidden_effect = {
			set_party_name = {
				ideology = communism
				name = "ILP"
				long_name = "Independent Labour Party"
			}
		}
		trigger = {
			NOT = {
				focus_progress = {
					focus = RAJ_Linlithgows_Reign
					progress > 0
				}
			}
		}
		set_country_flag = chose_ind
    }
}

country_event = {#PROVINCIAL ELECTIONS
    id = india.2
	title = india.2.t
	desc = india.2.desc
    fire_only_once = yes
	picture = GFX_report_event_picture_RAJ_generic_election
    is_triggered_only = yes
	immediate = {
		hidden_effect = {
			set_country_flag = election_enabled
			set_variable = {
				var = inc_control
				value = 0
			}
			set_variable = {
				var = upa_control
				value = 0
			}
			set_variable = {
				var = ifb_control
				value = 0
			}
			set_variable = {
				var = neutral_control
				value = 0
			}
			every_owned_state = {
				limit = {
					is_core_of = RAJ
					NOT = {
						has_state_flag = princely_state
						state = 424
						state = 431
						state = 445
					}
				}
				set_variable = {	#Influence range from 0-5
					var = inc
					value = 1
				}
				set_variable = {
					var = upa
					value = 1
				}
				set_variable = {
					var = ifb
					value = 1
				}
				set_variable = {
					var = neutral
					value = 2
				}
			}
			440 = {
				set_variable = {
					var = neutral
					value = 2
				}
			}
			raj_calculate_election = yes
			country_event = { 
				id = india.3
				days = 2
			}
		}
	}
    option = {
        name = india.2.a
		custom_effect_tooltip = raj_election_start
		effect_tooltip = { complete_national_focus = RAJ_Indian_National_Congress }
		set_country_flag = inc_support
    }
    option = {
        name = india.2.b
		custom_effect_tooltip = raj_election_start
		effect_tooltip = { complete_national_focus = RAJ_Unionist_Party }
		set_country_flag = upa_support
    }
    option = {
        name = india.2.c
		custom_effect_tooltip = raj_election_start
		effect_tooltip = { complete_national_focus = RAJ_Independent_Labour_Party }
		set_country_flag = ifb_support
    }
}
country_event = {#ELECTION ENEMY ACTION
    id = india.3
	hidden = no
    is_triggered_only = yes
	immediate = {
		if = { 
			limit = {
				tag = RAJ
				has_country_flag = election_enabled
			}
			random_owned_state = {
				limit = { 
					NOT = {
						has_state_flag = princely_state
						state = 424
						state = 431
						state = 445
					}
					is_owned_by = RAJ
					is_core_of = RAJ
				}
				RAJ = { set_variable = { enemy_campaign_state = PREV.id } }
				set_state_flag = raj_enemy_op 
				set_state_flag = enemy_campaign_running
			}
			var:enemy_campaign_state = {
				custom_effect_tooltip = "im here"
			}
			if = {
				limit = {
					has_country_flag = INC_support
				}
				random_list = {
					50 = {#UP Action
						RAJ = { 
							set_country_flag = upa_operation
							activate_mission = upa_enemy_operation
						}
					}	
					50 = {#IFB Action
						RAJ = {
							set_country_flag = ifb_operation
							activate_mission = ifb_enemy_operation
						}
					}
				}
				custom_effect_tooltip = "inc"
			}
			if = {
				limit = {
					has_country_flag = UPA_support
				}
				random_list = {
					50 = {#INC Action
						RAJ = { 
							set_country_flag = inc_operation
							activate_mission = inc_enemy_operation
						}
					}	
					50 = {#IFB Action
						RAJ = { 
							set_country_flag = ifb_operation
							activate_mission = ifb_enemy_operation
						}
					}
				}
				custom_effect_tooltip = "upa"
			}
			if = {
				limit = {
					has_country_flag = IFB_support
				}
				random_list = {
					50 = {#INC Action
						RAJ = { 
							set_country_flag = inc_operation
							activate_mission = inc_enemy_operation
						}
					}	
					50 = {#UPA Action
						RAJ = {
							set_country_flag = upa_operation
							activate_mission = upa_enemy_operation
						}
					}
				}
				custom_effect_tooltip = "ifb"
			}
		}
	}
}
country_event = {#ELECTION RESULTS
    id = india.4
	title = india.4.t
	desc = india.4.desc
    fire_only_once = yes

    is_triggered_only = yes
	
	immediate = {
		set_country_flag = raj_election_over
		hidden_effect = {
			set_variable = {
				pak_influence_daily = 0.25
			}
			set_variable = {
				ind_influence_daily = 0.25
			}
			set_variable = {
				pak_influence = 0
			}
			set_variable = {
				ind_influence = 0
			}
		}
	}
	
    option = {	#INC Win
        name = india.4.a
		trigger = {
			NOT = {
				check_variable = {
					inc_control < upa_control
				}
				check_variable = {
					inc_control < ifb_control
				}
			}
		}
		set_country_flag = INC_victory
		if = {
			NOT = {
				has_country_flag = inc_support
			}
			raj_lost_election_consequences = yes
		}
		raj_calculate_popularity_post_election = yes
	}
    option = {	#UP Win
        name = india.4.b
		trigger = {
			NOT = {
				check_variable = {
					upa_control < inc_control
				}
				check_variable = {
					upa_control < ifb_control
				}
			}
		}
		
		set_country_flag = UP_victory
		if = {
			NOT = {
				has_country_flag = upa_support
			}
			raj_lost_election_consequences = yes
		}
		raj_calculate_popularity_post_election = yes
	}
    option = {	#ILP Win
        name = india.4.c
		trigger = {
			NOT = {
				check_variable = {
					ifb_control < upa_control
				}
				check_variable = {
					ifb_control < inc_control
				}
			}
		}
		
		set_country_flag = ILP_victory
		if = {
			NOT = {
				has_country_flag = ifb_support
			}
			raj_lost_election_consequences = yes
		}
		raj_calculate_popularity_post_election = yes
		hidden_effect = {
			set_variable = {
				SRL_arms = 0
			}
			set_variable = {
				SRL_pol = 0
			}
			set_variable = {
				BHU_arms = 0
			}
			set_variable = {
				BHU_pol = 0
			}
			set_variable = {
				NEP_arms = 0
			}
			set_variable = {
				NEP_pol = 0
			}
			set_country_flag = ilp_south_asian_liberation
		}
	}
}
news_event = {
	id = india.5
	title = india.5.t
	desc = india.5.d
	picture = GFX_news_event_india_protests
	
	major = yes
	
	is_triggered_only = yes
	
	option = {
		name = india.5.a
		trigger = {
			OR = {
				AND = {
					TAG = ENG
					OR = {
						has_completed_focus = ENG_revisit_colonial_policy
						has_completed_focus = ENG_concessions_to_the_trade_unions
					}
				}
				has_government = democratic
			}
		}
	}
	option = {
		name = india.5.b
		trigger = { 
			TAG = ENG
			NOT = {
				OR = {
					has_completed_focus = ENG_revisit_colonial_policy
					has_completed_focus = ENG_concessions_to_the_trade_unions
				}
				has_government = communism
				has_government = democratic
			}
		}
	}
	option = {
		name = india.5.c
		trigger = { 
			has_government = communism
			RAJ = {
				has_country_flag = ILP_victory
			}
		}
	}
	option = {
		name = india.5.e
		trigger = { 
			tag = RAJ
		}
	}
	option = {
		name = india.5.f
		trigger = { 
			NOT = {
				tag = RAJ
				has_government = communism
				RAJ = {
					has_country_flag = ILP_victory
				}
				TAG = ENG
				NOT = {
					OR = {
						has_completed_focus = ENG_revisit_colonial_policy
						has_completed_focus = ENG_concessions_to_the_trade_unions
					}
					has_government = communism
					has_government = democratic
				}
				OR = {
					AND = {
						TAG = ENG
						OR = {
							has_completed_focus = ENG_revisit_colonial_policy
							has_completed_focus = ENG_concessions_to_the_trade_unions
						}
					}
					has_government = democratic
				}
			}
		}
	}
}
country_event = {#GENERIC pressures to take Indian Independence seriously
	id = india.6
	title = india.6.t
	desc = india.6.d
	picture = GFX_report_event_picture_RAJ_generic_election
    is_triggered_only = yes
	
	option = {	#Let them talk
		name = india.6.a
		hidden_effect = {
			RAJ = {
				add_to_variable = {
					ind_influence_daily = 0.15
				}
			}
		}
		custom_effect_tooltip = indinfluence15
		var:RAJBACKER = {
			add_opinion_modifier = {
				target = ENG
				modifier = offered_support  
			}
		}
	}
	option = {	#Deny a discussion
		name = india.6.b
		add_political_power = -50
		var:RAJBACKER = {
			add_opinion_modifier = {
				target = ENG
				modifier = protest_action_strong 
			}
		}
	}

}
country_event = {#The Bombay Conference
    id = india.290
	title = india.290.t
	desc = india.290.desc
    fire_only_once = yes
	picture = GFX_report_event_picture_RAJ_generic_election
    is_triggered_only = yes
	
	option = {
		name = india.290.a
		raj_calculate_election = yes
		set_country_flag = ilp_conference_concluded
		unlock_decision_category_tooltip = ilp_concessions
		set_country_flag = not_internationalists
		set_country_flag = not_national_communists
		set_country_flag = not_trade_unionist
		set_country_flag = not_women_liberationists
		set_country_flag = not_trotskyists
		
	}
}
country_event = {#Sri Lankan White Peace
    id = india.291
	title = india.291.t
	desc = india.291.d
    fire_only_once = yes
    trigger = {
		422 = {
			is_fully_controlled_by = SRL
		}
		has_global_flag = {
			flag = sri_lankan_rebellion
			days > 120
			value > 0
		}
		tag = ENG
		has_war_with = SRL
	}
	
	option = {
		name = india.291.a
		every_country = { 
			limit = {
				is_in_faction_with = ENG
			}
			white_peace = SRL
		}
		white_peace = SRL
		ai_chance = {
			factor = 100
		}
		SRL = {
			if = {
				limit = {
					is_in_faction = yes
				}
				leave_faction = yes
			}
		}
	}
	
	option = {
		name = india.291.b
		add_political_power = -25
	}
}
country_event = {#Nepalese White Peace
    id = india.292
	title = india.292.t
	desc = india.292.d
    fire_only_once = yes
    trigger = {
		323 = {
			is_fully_controlled_by = NEP
		}
		has_global_flag = {
			flag = nepalese_rebellion
			days > 120
			value > 0
		}
		OR = {
			is_faction_leader = yes
			is_in_faction = no
		}
		has_war_with = NEP
	}
	
	option = {
		name = india.291.a
		every_country = { 
			limit = {
				is_in_faction_with = root
			}
			white_peace = NEP
		}
		white_peace = NEP
		ai_chance = {
			factor = 100
		}
		NEP = {
			if = {
				limit = {
					is_in_faction = yes
				}
				leave_faction = yes
			}
		}
	}
	
	option = {
		name = india.291.b
		add_political_power = -25
	}
}
country_event = {#Bhutan White Peace
    id = india.293
	title = india.293.t
	desc = india.293.d
    fire_only_once = yes
    trigger = {
		324 = {
			is_fully_controlled_by = BHU
		}
		has_global_flag = {
			flag = bhutanese_rebellion
			days > 120
			value > 0
		}
		has_war_with = BHU
		OR = {
			is_faction_leader = yes
			is_in_faction = no
		}
	}
	
	option = {
		name = india.291.a
		every_country = { 
			limit = {
				is_in_faction_with = ROOT
			}
			white_peace = BHU
		}
		white_peace = BHU
		ai_chance = {
			factor = 100
		}
		BHU = {
			if = {
				limit = {
					is_in_faction = yes
				}
				leave_faction = yes
			}
		}
	}
	
	option = {
		name = india.291.b
		add_political_power = -25
	}
}


country_event = {#India invites us into the Comintern
    id = india.295
	title = india.295.t
	desc = india.295.desc
    fire_only_once = yes
    is_triggered_only = yes
	option = {#Accept
		name = india.295.a
		if = {
			limit = { is_in_faction = yes }
			leave_faction = yes
		}
		SOV = {
			add_to_faction = ROOT
			add_ai_strategy = {
				type = alliance
				id = ROOT
				value = 200
			}
		}
		add_ai_strategy = {
			type = alliance
			id = SOV
			value = 200
		}
		ai_chance = {
			factor = 100
		}
	}
	option = {#Decline
		name = india.295.b
		add_ai_strategy = {
			type = alliance
			id = SOV
			value = -200
		}
	}
}

country_event = {#India invites us into the Comintern
    id = india.296
	title = india.296.t
	desc = india.296.desc
    fire_only_once = yes
    is_triggered_only = yes
	option = {#Accept
		name = india.296.a
		if = {
			limit = { is_in_faction = yes }
			leave_faction = yes
		}
		RAJ = {
			add_to_faction = ROOT
			add_ai_strategy = {
				type = alliance
				id = ROOT
				value = 200
			}
		}
		add_ai_strategy = {
			type = alliance
			id = RAJ
			value = 200
		}
		ai_chance = {
			factor = 100
		}
	}
	option = {#Decline
		name = india.296.b
		add_ai_strategy = {
			type = alliance
			id = RAJ
			value = -200
		}
	}
}

country_event = {#INC moves to secure rural Hindus
    id = india.300
	title = india.300.t
	desc = india.300.desc
    fire_only_once = yes
	picture = GFX_report_event_picture_RAJ_Indian_National_Congress
    is_triggered_only = yes

    option = {
        name = india.300.a
		436 = {
			add_to_variable = {
				inc = 2
			}
			custom_effect_tooltip = raj_inc_2
		}
		438 = {
			add_to_variable = {
				inc = 2
			}
			custom_effect_tooltip = raj_inc_2
		}
		423 = {
			add_to_variable = {
				inc = 2
			}
			custom_effect_tooltip = raj_inc_2
		}
    }
    option = {	#Fight them
        name = india.300.b
		add_political_power = -150
		436 = {
			add_to_variable = {
				inc = 1
			}
			custom_effect_tooltip = raj_inc_1
		}
		438 = {
			add_to_variable = {
				inc = 1
			}
			custom_effect_tooltip = raj_inc_1
		}
		423 = {
			add_to_variable = {
				inc = 1
			}
			custom_effect_tooltip = raj_inc_1
		}
    }
}
country_event = {#Unionist Party secures industrial support
    id = india.301
	title = india.301.t
	desc = india.301.desc
    fire_only_once = yes
	picture = GFX_report_event_picture_RAJ_Provincial_Result
    is_triggered_only = yes

    option = {
        name = india.301.a
		111 = {
			add_to_variable = {
				upa = 2
			}
			custom_effect_tooltip = raj_upa_2
		}
		111 = {
			add_to_variable = {
				upa = 2
			}
			custom_effect_tooltip = raj_upa_2
		}
		111 = {
			add_to_variable = {
				upa = 2
			}
			custom_effect_tooltip = raj_upa_2
		}
    }
    option = {	#Privatise Industry
        name = india.301.b
		random_owned_state = {
			limit = {
				has_building = {
					industrial_complex > 0
				}
			}
			remove_building = {
				type = industrial_complex
				level = 1
			}
		}
		111 = {
			add_to_variable = {
				upa = 1
			}
			custom_effect_tooltip = raj_upa_1
		}
		111 = {
			add_to_variable = {
				upa = 1
			}
			custom_effect_tooltip = raj_upa_1
		}
		111 = {
			add_to_variable = {
				upa = 1
			}
			custom_effect_tooltip = raj_upa_1
		}
    }
}
country_event = {#Independent Labour Party secures international support
    id = india.302
	title = india.302.t
	desc = india.302.desc
    fire_only_once = yes
	picture = GFX_report_event_picture_RAJ_Government_Formation
    is_triggered_only = yes

    option = {
        name = india.302.a
		111 = {
			add_to_variable = {
				ifb = 2
			}
			custom_effect_tooltip = raj_ifb_2
		}
		111 = {
			add_to_variable = {
				ifb = 2
			}
			custom_effect_tooltip = raj_ifb_2
		}
		111 = {
			add_to_variable = {
				ifb = 2
			}
			custom_effect_tooltip = raj_ifb_2
		}
    }
    option = {	#Hinder them
        name = india.302.b
		every_country = {
			limit = {
				has_government = communism
				NOT = {
					has_war_with = SOV
				}	
				has_opinion = {
					target = RAJ
					value < 50
				}
			}
			add_opinion_modifier = {
				modifier = embargo
				target = RAJ
			}
		}
		111 = {
			add_to_variable = {
				ifb = 1
			}
			custom_effect_tooltip = raj_ifb_1
		}
		111 = {
			add_to_variable = {
				ifb = 1
			}
			custom_effect_tooltip = raj_ifb_1
		}
		111 = {
			add_to_variable = {
				ifb = 1
			}
			custom_effect_tooltip = raj_ifb_1
		}
    }
}
#Por notification
country_event = {
	id = india.400
	title = india.400.t
	desc = india.400.desc
	picture = GFX_report_event_india_army_mountainside

	is_triggered_only = yes

	option = {
		ai_chance = {
			factor = 80
			modifier = {
				factor = 0
				has_government = communism
			}
		}
		name = india.400.a
	}
	option = {
		ai_chance = {
			factor = 20
		}
		name = india.400.b
		RAJ = {
			transfer_state = 321
			hidden_effect = {
				remove_targeted_decision = { target = POR decision = RAJ_border_incident_forgotten }
				remove_targeted_decision = { target = POR decision = RAJ_escalate_incident_to_border_conflict_POR }
			}
		}
		add_political_power = 10
	}
}
country_event = {	#India won
	id = india.401
	title = india.401.t
	desc = india.401.desc
	picture = GFX_report_event_india_army_mountainside

	immediate = {
		clr_country_flag = raj_port_operation
	}
	
	is_triggered_only = yes

	option = {
		name = india.401.a
		transfer_state = 321
		trigger = {
			tag = RAJ
		}
	}

	option = {
		name = india.401.b
		trigger = {
			tag = POR
		}
	}
}
country_event = {	#Portugal won
	id = india.402
	title = india.402.t
	desc = india.402.desc
	picture = GFX_report_event_india_army_mountainside

	is_triggered_only = yes
	immediate = {
		clr_country_flag = raj_port_operation
	}
	option = {
		name = india.402.a
		add_political_power = -50
		trigger = {
			tag = RAJ
		}
	}

	option = {
		name = india.402.b
		add_war_support = 0.1
		add_political_power = 100
		trigger = {
			tag = POR
		}
	}
}
country_event = {	#India pressures Referendum
	id = india.403
	title = india.403.t
	desc = india.403.desc
	picture = GFX_report_event_india_army_mountainside

	is_triggered_only = yes
	option = {
		name = india.403.a
		add_political_power = -50
		trigger = {
			NOT = {
				has_government = communism
			}
		}
		set_country_flag = reconquer_enable
	}

	option = {
		ai_chance = {
			factor = 1
		}
		name = india.403.b
	}
}

country_event = {	#India pressures Referendum
	id = india.404#haha funy number
	title = india.404.t
	desc = {
		trigger = {
			has_country_flag = reconquer_enable
		}
		text = india.404.descre
	}
	desc = {
		trigger = {
			NOT = {	
				has_country_flag = reconquer_enable
			}
		}
		text = india.404.desc
	}
	picture = GFX_report_event_india_army_mountainside

	is_triggered_only = yes
	option = {
		name = india.404.a
		add_political_power = -100
		add_war_support = -0.1
		add_stability = -0.1
		create_wargoal = {
			type = puppet_wargoal_focus
			target = RAJ
		}
		trigger = {
			has_country_flag = reconquer_enable
		}
	}

	option = {
		name = india.404.b
	}
}

